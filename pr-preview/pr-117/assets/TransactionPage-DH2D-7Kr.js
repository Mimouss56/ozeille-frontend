import{r as n,j as s}from"./iframe-Dk089UyE.js";import{D as d}from"./DataTable-DloMWX84.js";import{T as r}from"./TransactionModal-uYRpApjj.js";import{u as g}from"./transactionsStore-DbppMbSK.js";import{P as u,A as p}from"./ActionMenu-XZInMZtX.js";import{T as f}from"./TransactionDeleteModal-Bu_PA5AW.js";import{T as x}from"./Trash.esm-DDJ6WzQJ.js";function T(t={}){const e=n.useMemo(()=>[{label:"Ã‰diter transaction",icon:u,onClick:()=>r({transaction:t.transaction})},{label:"Supprimer",icon:x,variant:"danger",onClick:()=>f({transaction:t.transaction})}],[t]);return{columns:n.useMemo(()=>[{accessorKey:"dueAt",header:"Date",cell:({row:a})=>new Date(a.original.dueAt).toLocaleDateString()},{accessorKey:"category",header:"Category",cell:({row:a})=>a.original.category.label},{accessorKey:"amount",header:"Montant"},{accessorKey:"label",header:"Label"},{header:"Actions",size:10,cell:()=>p({actions:e})}],[e])}}const h=()=>{const{columns:t}=T(),[e,c]=n.useState(10),[a,i]=n.useState({pageIndex:0,pageSize:e}),{fetchTransactions:o,meta:l,transactions:m}=g();return n.useEffect(()=>{o({limit:e,page:a.pageIndex+1})},[o,e,a.pageIndex]),s.jsxs("div",{className:"flex h-full flex-col gap-4",children:[s.jsx("h1",{children:"Transactions"}),s.jsx("div",{className:"flex justify-end gap-4",children:s.jsx(r,{})}),s.jsx(d,{pageSize:e,data:m,columns:t,currentPage:a,setCurrentPage:i,totalPage:l.totalPages,paginated:!0})]})};h.__docgenInfo={description:"",methods:[],displayName:"TransactionPage"};export{h as T};
