import{r as o,j as s}from"./iframe-CBMYiFd3.js";import{D as m}from"./DataTable-PRcQQcR8.js";import{T as c}from"./TransactionModal-QfFFSNXO.js";import{u as d}from"./transactionsStore-Ch4C2Inm.js";import{A as g}from"./ActionMenu-Ht8ERgJh.js";import{T as u}from"./TransactionDeleteModal-cUvTc0kF.js";import{P as p}from"./PencilSimple.esm-DaF4sbcS.js";import{T as f}from"./Trash.esm-BhrD8fQG.js";function x(a={}){const e=o.useMemo(()=>[{label:"Ã‰diter transaction",icon:p,onClick:()=>c({transaction:a.transaction}),style:"ghostOutline"},{label:"Supprimer",icon:f,variant:"danger",onClick:()=>u({transaction:a.transaction}),style:"dangerOutline"}],[a]);return{columns:o.useMemo(()=>[{accessorKey:"dueAt",header:"Date",cell:({row:t})=>new Date(t.original.dueAt).toLocaleDateString()},{accessorKey:"category",header:"Category",cell:({row:t})=>t.original.category.label},{accessorKey:"amount",header:"Montant"},{accessorKey:"label",header:"Label"},{header:"Actions",size:10,cell:()=>g({actions:e})}],[e])}}const h=()=>{const{columns:a}=x(),e=10,[n,t]=o.useState({pageIndex:0,pageSize:e}),{fetchTransactions:r,meta:i,transactions:l}=d();return o.useEffect(()=>{r({limit:e,page:n.pageIndex+1})},[r,e,n.pageIndex]),s.jsxs("div",{className:"flex h-full flex-col gap-4",children:[s.jsx("h1",{children:"Transactions"}),s.jsx("div",{className:"flex justify-end gap-4",children:s.jsx(c,{})}),s.jsx(m,{pageSize:e,data:l,columns:a,currentPage:n,setCurrentPage:t,totalPage:i.totalPages,paginated:!0})]})};h.__docgenInfo={description:"",methods:[],displayName:"TransactionPage"};export{h as T};
