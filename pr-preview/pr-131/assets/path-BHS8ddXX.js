import{r as t,j as e,R}from"./iframe-DM38F1T0.js";import{p as M}from"./IconBase.es-H1ycjw-C.js";import{a as G}from"./PiggyBank.es-CDGjiyhL.js";import{o as $}from"./Hero-C6409T5G.js";import{N as q,L as N,b as Z,O as W,c as L,d as Y}from"./chunk-EPOLDU6W-Dya45YIV.js";import{B as j}from"./Button-3LPOw4_B.js";import{I as g}from"./InputField-De9g1br7.js";import{S as y}from"./StatusMessage-CryQ6h1U.js";import{c as Q,a as E,e as J,y as O}from"./axiosClient-C7vyCMPa.js";import{C as K}from"./CategoryPage-CfIzwgnW.js";import{o as V,s as I,e as F}from"./categoriesStore-Ee7qZrcV.js";import"./HomePage-C7Hztu1_.js";import{P as H}from"./PasswordToggle-Do_eM2Kl.js";import{T as X}from"./TransactionPage-BzJL5647.js";const ee=new Map([["bold",t.createElement(t.Fragment,null,t.createElement("path",{d:"M222.14,105.85l-80-80a20,20,0,0,0-28.28,0l-80,80A19.86,19.86,0,0,0,28,120v96a12,12,0,0,0,12,12h64a12,12,0,0,0,12-12V164h24v52a12,12,0,0,0,12,12h64a12,12,0,0,0,12-12V120A19.86,19.86,0,0,0,222.14,105.85ZM204,204H164V152a12,12,0,0,0-12-12H104a12,12,0,0,0-12,12v52H52V121.65l76-76,76,76Z"}))],["duotone",t.createElement(t.Fragment,null,t.createElement("path",{d:"M216,120v96H152V152H104v64H40V120a8,8,0,0,1,2.34-5.66l80-80a8,8,0,0,1,11.32,0l80,80A8,8,0,0,1,216,120Z",opacity:"0.2"}),t.createElement("path",{d:"M219.31,108.68l-80-80a16,16,0,0,0-22.62,0l-80,80A15.87,15.87,0,0,0,32,120v96a8,8,0,0,0,8,8h64a8,8,0,0,0,8-8V160h32v56a8,8,0,0,0,8,8h64a8,8,0,0,0,8-8V120A15.87,15.87,0,0,0,219.31,108.68ZM208,208H160V152a8,8,0,0,0-8-8H104a8,8,0,0,0-8,8v56H48V120l80-80,80,80Z"}))],["fill",t.createElement(t.Fragment,null,t.createElement("path",{d:"M224,120v96a8,8,0,0,1-8,8H160a8,8,0,0,1-8-8V164a4,4,0,0,0-4-4H108a4,4,0,0,0-4,4v52a8,8,0,0,1-8,8H40a8,8,0,0,1-8-8V120a16,16,0,0,1,4.69-11.31l80-80a16,16,0,0,1,22.62,0l80,80A16,16,0,0,1,224,120Z"}))],["light",t.createElement(t.Fragment,null,t.createElement("path",{d:"M217.9,110.1l-80-80a14,14,0,0,0-19.8,0l-80,80A13.92,13.92,0,0,0,34,120v96a6,6,0,0,0,6,6h64a6,6,0,0,0,6-6V158h36v58a6,6,0,0,0,6,6h64a6,6,0,0,0,6-6V120A13.92,13.92,0,0,0,217.9,110.1ZM210,210H158V152a6,6,0,0,0-6-6H104a6,6,0,0,0-6,6v58H46V120a2,2,0,0,1,.58-1.42l80-80a2,2,0,0,1,2.84,0l80,80A2,2,0,0,1,210,120Z"}))],["regular",t.createElement(t.Fragment,null,t.createElement("path",{d:"M219.31,108.68l-80-80a16,16,0,0,0-22.62,0l-80,80A15.87,15.87,0,0,0,32,120v96a8,8,0,0,0,8,8h64a8,8,0,0,0,8-8V160h32v56a8,8,0,0,0,8,8h64a8,8,0,0,0,8-8V120A15.87,15.87,0,0,0,219.31,108.68ZM208,208H160V152a8,8,0,0,0-8-8H104a8,8,0,0,0-8,8v56H48V120l80-80,80,80Z"}))],["thin",t.createElement(t.Fragment,null,t.createElement("path",{d:"M216.49,111.51l-80-80a12,12,0,0,0-17,0l-80,80A12,12,0,0,0,36,120v96a4,4,0,0,0,4,4h64a4,4,0,0,0,4-4V156h40v60a4,4,0,0,0,4,4h64a4,4,0,0,0,4-4V120A12,12,0,0,0,216.49,111.51ZM212,212H156V152a4,4,0,0,0-4-4H104a4,4,0,0,0-4,4v60H44V120a4,4,0,0,1,1.17-2.83l80-80a4,4,0,0,1,5.66,0l80,80A4,4,0,0,1,212,120Z"}))]]),ae=new Map([["bold",t.createElement(t.Fragment,null,t.createElement("path",{d:"M246.15,133.18,146.83,33.86A19.85,19.85,0,0,0,132.69,28H40A12,12,0,0,0,28,40v92.69a19.85,19.85,0,0,0,5.86,14.14l99.32,99.32a20,20,0,0,0,28.28,0l84.69-84.69A20,20,0,0,0,246.15,133.18Zm-98.83,93.17L52,131V52h79l95.32,95.32ZM104,88A16,16,0,1,1,88,72,16,16,0,0,1,104,88Z"}))],["duotone",t.createElement(t.Fragment,null,t.createElement("path",{d:"M237.66,153,153,237.66a8,8,0,0,1-11.31,0L42.34,138.34A8,8,0,0,1,40,132.69V40h92.69a8,8,0,0,1,5.65,2.34l99.32,99.32A8,8,0,0,1,237.66,153Z",opacity:"0.2"}),t.createElement("path",{d:"M243.31,136,144,36.69A15.86,15.86,0,0,0,132.69,32H40a8,8,0,0,0-8,8v92.69A15.86,15.86,0,0,0,36.69,144L136,243.31a16,16,0,0,0,22.63,0l84.68-84.68a16,16,0,0,0,0-22.63Zm-96,96L48,132.69V48h84.69L232,147.31ZM96,84A12,12,0,1,1,84,72,12,12,0,0,1,96,84Z"}))],["fill",t.createElement(t.Fragment,null,t.createElement("path",{d:"M243.31,136,144,36.69A15.86,15.86,0,0,0,132.69,32H40a8,8,0,0,0-8,8v92.69A15.86,15.86,0,0,0,36.69,144L136,243.31a16,16,0,0,0,22.63,0l84.68-84.68a16,16,0,0,0,0-22.63ZM84,96A12,12,0,1,1,96,84,12,12,0,0,1,84,96Z"}))],["light",t.createElement(t.Fragment,null,t.createElement("path",{d:"M241.91,137.42,142.59,38.1a13.94,13.94,0,0,0-9.9-4.1H40a6,6,0,0,0-6,6v92.69a13.94,13.94,0,0,0,4.1,9.9l99.32,99.32a14,14,0,0,0,19.8,0l84.69-84.69A14,14,0,0,0,241.91,137.42Zm-8.49,11.31-84.69,84.69a2,2,0,0,1-2.83,0L46.59,134.1a2,2,0,0,1-.59-1.41V46h86.69a2,2,0,0,1,1.41.59l99.32,99.31A2,2,0,0,1,233.42,148.73ZM94,84A10,10,0,1,1,84,74,10,10,0,0,1,94,84Z"}))],["regular",t.createElement(t.Fragment,null,t.createElement("path",{d:"M243.31,136,144,36.69A15.86,15.86,0,0,0,132.69,32H40a8,8,0,0,0-8,8v92.69A15.86,15.86,0,0,0,36.69,144L136,243.31a16,16,0,0,0,22.63,0l84.68-84.68a16,16,0,0,0,0-22.63Zm-96,96L48,132.69V48h84.69L232,147.31ZM96,84A12,12,0,1,1,84,72,12,12,0,0,1,96,84Z"}))],["thin",t.createElement(t.Fragment,null,t.createElement("path",{d:"M240.49,138.83,141.17,39.51A11.93,11.93,0,0,0,132.69,36H40a4,4,0,0,0-4,4v92.69a11.93,11.93,0,0,0,3.51,8.48l99.32,99.32a12,12,0,0,0,17,0l84.69-84.69a12,12,0,0,0,0-17Zm-5.66,11.31-84.69,84.69a4,4,0,0,1-5.65,0L45.17,135.51A4,4,0,0,1,44,132.69V44h88.69a4,4,0,0,1,2.82,1.17l99.32,99.32A4,4,0,0,1,234.83,150.14ZM92,84a8,8,0,1,1-8-8A8,8,0,0,1,92,84Z"}))]]),te=new Map([["bold",t.createElement(t.Fragment,null,t.createElement("path",{d:"M234.38,210a123.36,123.36,0,0,0-60.78-53.23,76,76,0,1,0-91.2,0A123.36,123.36,0,0,0,21.62,210a12,12,0,1,0,20.77,12c18.12-31.32,50.12-50,85.61-50s67.49,18.69,85.61,50a12,12,0,0,0,20.77-12ZM76,96a52,52,0,1,1,52,52A52.06,52.06,0,0,1,76,96Z"}))],["duotone",t.createElement(t.Fragment,null,t.createElement("path",{d:"M192,96a64,64,0,1,1-64-64A64,64,0,0,1,192,96Z",opacity:"0.2"}),t.createElement("path",{d:"M230.92,212c-15.23-26.33-38.7-45.21-66.09-54.16a72,72,0,1,0-73.66,0C63.78,166.78,40.31,185.66,25.08,212a8,8,0,1,0,13.85,8c18.84-32.56,52.14-52,89.07-52s70.23,19.44,89.07,52a8,8,0,1,0,13.85-8ZM72,96a56,56,0,1,1,56,56A56.06,56.06,0,0,1,72,96Z"}))],["fill",t.createElement(t.Fragment,null,t.createElement("path",{d:"M230.93,220a8,8,0,0,1-6.93,4H32a8,8,0,0,1-6.92-12c15.23-26.33,38.7-45.21,66.09-54.16a72,72,0,1,1,73.66,0c27.39,8.95,50.86,27.83,66.09,54.16A8,8,0,0,1,230.93,220Z"}))],["light",t.createElement(t.Fragment,null,t.createElement("path",{d:"M229.19,213c-15.81-27.32-40.63-46.49-69.47-54.62a70,70,0,1,0-63.44,0C67.44,166.5,42.62,185.67,26.81,213a6,6,0,1,0,10.38,6C56.4,185.81,90.34,166,128,166s71.6,19.81,90.81,53a6,6,0,1,0,10.38-6ZM70,96a58,58,0,1,1,58,58A58.07,58.07,0,0,1,70,96Z"}))],["regular",t.createElement(t.Fragment,null,t.createElement("path",{d:"M230.92,212c-15.23-26.33-38.7-45.21-66.09-54.16a72,72,0,1,0-73.66,0C63.78,166.78,40.31,185.66,25.08,212a8,8,0,1,0,13.85,8c18.84-32.56,52.14-52,89.07-52s70.23,19.44,89.07,52a8,8,0,1,0,13.85-8ZM72,96a56,56,0,1,1,56,56A56.06,56.06,0,0,1,72,96Z"}))],["thin",t.createElement(t.Fragment,null,t.createElement("path",{d:"M227.46,214c-16.52-28.56-43-48.06-73.68-55.09a68,68,0,1,0-51.56,0c-30.64,7-57.16,26.53-73.68,55.09a4,4,0,0,0,6.92,4C55,184.19,89.62,164,128,164s73,20.19,92.54,54a4,4,0,0,0,3.46,2,3.93,3.93,0,0,0,2-.54A4,4,0,0,0,227.46,214ZM68,96a60,60,0,1,1,60,60A60.07,60.07,0,0,1,68,96Z"}))]]),U=t.forwardRef((s,a)=>t.createElement(M,{ref:a,...s,weights:ee}));U.displayName="HouseIcon";const B=t.forwardRef((s,a)=>t.createElement(M,{ref:a,...s,weights:ae}));B.displayName="TagIcon";const D=t.forwardRef((s,a)=>t.createElement(M,{ref:a,...s,weights:te}));D.displayName="UserIcon";var x=(s=>(s.Idle="idle",s.Pending="pending",s.Success="success",s.Error="error",s))(x||{});const w=Q((s,a)=>({isAuthenticated:!1,loading:!1,confirmationStatus:x.Idle,confirmationError:null,confirmationToken:null,user:null,setIsAuthenticated:n=>s({isAuthenticated:n}),resetConfirmationState:()=>s({confirmationStatus:x.Idle,confirmationError:null}),setLoadingState:()=>{s({loading:!0,confirmationStatus:x.Pending,confirmationError:null})},isPending:()=>a().confirmationStatus===x.Pending,setErrorState:n=>{s({loading:!1,confirmationStatus:x.Error,confirmationError:J(n)})},isError:()=>a().confirmationStatus===x.Error,setSuccessState:()=>{s({loading:!1,confirmationStatus:x.Success,confirmationError:null})},setStateOnResult:(n,r)=>{n?a().setSuccessState():a().setErrorState(r)},isConfirmed:()=>a().confirmationStatus===x.Success,sendConfirmationEmail:async n=>{a().setLoadingState();try{await E.post("/auth/register/send-confirmation-email",{email:n}),a().setSuccessState()}catch(r){a().setErrorState(r)}},confirmEmail:async n=>{a().setLoadingState();let r=!1;try{r=(await E.post(`/auth/register/confirm?token=${n}`)).status===204,a().setStateOnResult(r)}catch(l){a().setErrorState(l)}return r},confirm2FA:async n=>{a().setLoadingState();try{const{data:r}=await E.post("/auth/2fa/validate",{tempToken:sessionStorage.getItem("tmp_token"),code:n});s({confirmationStatus:r?x.Success:x.Error}),sessionStorage.removeItem("tmp_token"),sessionStorage.setItem("access_token",r.accessToken),sessionStorage.setItem("refresh_token",r.refreshToken);const l=await E.get("/auth/me");return console.log("user",l),s({user:l.data.me,isAuthenticated:!0}),a().setSuccessState(),!0}catch(r){return a().setErrorState(r),!1}},register:async n=>{a().setLoadingState();try{await E.post("/auth/register",n),a().setSuccessState()}catch(r){a().setErrorState(r)}},login:async n=>{a().setLoadingState();let r;try{r=(await E.post("/auth/login",n)).data,s({isAuthenticated:!1}),a().setSuccessState()}catch(l){a().setErrorState(l)}return r},forgotPassword:async n=>{a().setLoadingState();try{await E.post("/auth/forgot-password",{email:n}),a().setSuccessState()}catch(r){a().setErrorState(r)}},resetPassword:async(n,r)=>{a().setLoadingState();try{await E.post(`/auth/reset-password?token=${n}`,r),a().setSuccessState()}catch(l){a().setErrorState(l)}},fetchMe:async()=>{a().setLoadingState();try{const{data:n}=await E.get("/auth/me");return s({user:n.me,isAuthenticated:!0}),a().setSuccessState(),n}catch(n){a().setErrorState(n)}},logout:()=>{sessionStorage.removeItem("access_token"),sessionStorage.removeItem("refresh_token"),s({isAuthenticated:!1,user:null,confirmationStatus:x.Idle,confirmationError:null,confirmationToken:null})}}));function se(){const s=sessionStorage.getItem("access_token"),{user:a}=w(),n=a?`${a.firstName.charAt(0)}${a.lastName.charAt(0)}`.toUpperCase():"CT";return s?e.jsxs("div",{className:"text-neutral bg-base-100 flex min-h-screen flex-col",children:[e.jsxs("div",{className:"flex flex-1",children:[e.jsxs("aside",{className:"hidden w-64 flex-col pt-6 shadow-sm shadow-black/10 md:flex",children:[e.jsx(N,{to:c.PUBLIC.HOME.PATH,className:"font-montserrat mx-auto text-[32px] font-bold",children:"O’Zeille"}),e.jsxs("div",{className:"mt-6 h-full",children:[e.jsx("nav",{className:"flex flex-col gap-2 px-3","aria-label":"Navigation principale",role:"navigation",children:Object.values(c.PRIVATE).filter(r=>!r.HIDE_IN_MENU).map(r=>{const l=r.ICON;return e.jsxs(Z,{to:r.PATH,className:({isActive:o})=>`btn btn-sm justify-start gap-2 py-7 ${o?"btn-success text-neutral":"btn-ghost"}`,children:[e.jsx("span",{"aria-hidden":"true",children:e.jsx(l,{size:24})}),e.jsx("span",{children:r.LABEL})]},r.PATH)})}),e.jsx("div",{className:"border-base-200/50 mt-auto mb-6 border-t pt-4",children:e.jsx(N,{to:c.PRIVATE.PROFILE.PATH,className:"flex w-full justify-center",title:"Mon profil",children:e.jsx("div",{className:"initials placeholder",children:e.jsx("div",{className:"bg-neutral text-neutral-content flex h-14 w-14 cursor-pointer items-center justify-center rounded-full shadow-md transition-transform hover:scale-105",children:e.jsx("span",{className:"text-md font-normal",children:n})})})})})]})]}),e.jsx("main",{className:"flex-1 p-4 md:p-8",children:e.jsx(W,{})})]}),e.jsx("nav",{className:"bg-base-100 fixed inset-x-0 bottom-0 flex justify-around border-t py-2 md:hidden","aria-label":"Navigation mobile",role:"navigation",children:Object.values(c.PRIVATE).filter(r=>!r.HIDE_IN_MENU).map(r=>{const l=r.ICON;return e.jsx(Z,{to:r.PATH,className:"flex flex-col items-center gap-1 text-xs",children:({isActive:o})=>e.jsxs(e.Fragment,{children:[e.jsx("span",{"aria-hidden":"true",children:e.jsx(l,{size:24})}),e.jsx("span",{children:r.LABEL}),o&&e.jsx("span",{className:"bg-success h-1 w-8 rounded-full"})]})},r.PATH)})})]}):e.jsx(q,{to:c.PUBLIC.LOGIN.PATH,replace:!0})}se.__docgenInfo={description:"",methods:[],displayName:"PrivateLayout"};const re=()=>{const s=L(),{confirm2FA:a,loading:n,confirmationError:r,confirmationStatus:l}=w(),[o,i]=t.useState({token:""}),[f,m]=t.useState({});return{formData:o,errors:f,confirmationError:r,confirmationStatus:l,loading:n,handleChange:(v,p)=>{i(u=>({...u,[v]:p})),f[v]&&m(u=>({...u,[v]:void 0}))},onSubmit:async v=>{v.preventDefault(),await a(o.token),s(c.PRIVATE.TRANSACTIONS.PATH)}}},ne=()=>{const{formData:s,errors:a,confirmationError:n,loading:r,handleChange:l,onSubmit:o}=re();return e.jsx("div",{className:"flex min-h-screen flex-col",children:e.jsx("main",{className:"flex flex-1 items-center justify-center p-4 pt-20",children:e.jsxs("div",{className:"w-full max-w-md",children:[e.jsx("div",{className:"mb-10 text-center",children:e.jsx("h1",{className:"text-4xl font-bold text-gray-900",children:"Double Authentification"})}),e.jsxs("form",{onSubmit:o,className:"flex flex-col gap-6",children:[n&&e.jsx(y,{status:"error",layout:"box",children:n}),e.jsx("div",{className:"form-control w-full [&_input]:w-full",children:e.jsx(g,{label:"2fa",id:"2fa",name:"token",type:"text",value:s.token,onChange:i=>l("token",i),placeholder:"Code 2FA reçu par email",style:a.email?"error":"neutral",helperText:a.email,required:!0})}),e.jsx("div",{className:"w-full [&_button]:flex! [&_button]:h-12! [&_button]:w-full [&_button]:items-center! [&_button]:justify-center!",children:e.jsx(j,{type:"submit",style:"primary",disabled:r,children:r?"Loading...":"Login"})}),e.jsxs("div",{className:"mt-2 text-center text-sm text-gray-600",children:["Vous n'avez pas encore de compte ? ","",e.jsx(N,{to:c.PUBLIC.REGISTER.PATH,className:"text-error font-medium hover:underline",children:"Inscrivez-vous ici."})]})]})]})})})};ne.__docgenInfo={description:"",methods:[],displayName:"TwoFAPage"};function le(){const[s]=Y(),a=s.get("token"),{confirmEmail:n,isPending:r,isError:l,isConfirmed:o}=w();t.useEffect(()=>{a&&n(a)},[n,a]);let i="";return r()?i="Validation en cours...":o()?i="Votre email a bien été confirmé !":l()&&(i="Le lien de confirmation n'est plus valide. Veuillez refaire votre demande de confirmation."),e.jsxs("div",{className:"flex min-h-screen flex-col items-center justify-center gap-4 bg-white text-gray-900 antialiased",children:[e.jsx(y,{layout:"box",children:i}),o()&&e.jsx(N,{to:c.PUBLIC.LOGIN.PATH,className:"flex flex-col",children:e.jsx(j,{type:"button",children:"Se connecter"})}),l()&&e.jsx(N,{to:c.PUBLIC.SEND_CONFIRM_EMAIL.PATH,className:"flex flex-col",children:e.jsx(j,{type:"button",children:"Renvoyer le mail de confirmation"})})]})}le.__docgenInfo={description:"",methods:[],displayName:"ConfirmEmailPage"};const k=V({email:F("Format d'email invalide")}),oe=V({email:F("Format d'email invalide"),password:I().min(8,"Le mot de passe doit faire au moins 8 caractères")}),ie=V({firstName:I(),lastName:I(),email:F("Format d'email invalide"),password:I().min(8,"Le mot de passe doit faire au moins 8 caractères"),confirmedPassword:I()}).refine(s=>s.password===s.confirmedPassword,{message:"Les mots de passe ne correspondent pas",path:["confirmedPassword"]}),T=s=>{const a={};return s.issues.forEach(n=>{const r=String(n.path[n.path.length-1]);a[r]=n.message}),a},ce=()=>{const{sendConfirmationEmail:s,confirmationError:a,isPending:n,isError:r,isConfirmed:l,confirmationStatus:o}=w(),[i,f]=t.useState(""),[m,h]=t.useState({});return t.useEffect(()=>{l()&&O.success("Email envoyé avec succès ! Vérifiez votre boîte mail.")},[l,o]),{handleEmailChange:p=>{f(p),m.email&&h(u=>({...u,email:void 0}))},email:i,errors:m,onSubmit:async p=>{p.preventDefault();const u=k.safeParse({email:i});if(!u.success){h(T(u.error));return}await s(i)},isPending:n,isError:r,confirmationError:a,isConfirmed:l}},me=()=>{const{email:s,errors:a,handleEmailChange:n,onSubmit:r,isPending:l,confirmationError:o}=ce();return e.jsx("div",{className:"flex min-h-screen flex-col",children:e.jsx("main",{className:"flex flex-1 items-center justify-center p-4 pt-20",children:e.jsxs("div",{className:"w-full max-w-md",children:[e.jsx("div",{className:"mb-10 text-center",children:e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:c.PUBLIC.SEND_CONFIRM_EMAIL.LABEL})}),e.jsxs("form",{onSubmit:r,className:"flex flex-col gap-6",children:[o&&e.jsx("div",{className:"flex justify-center",children:e.jsx(y,{status:"error",layout:"box",children:o})}),e.jsx("div",{className:"form-control w-full [&_input]:w-full",children:e.jsx(g,{id:"email",label:"Email",name:"email",type:"email",value:s,onChange:n,placeholder:"Entrez votre adresse email...",required:!0,style:a.email?"error":"neutral",helperText:a.email})}),e.jsxs("div",{className:"mt-4 flex w-full flex-col gap-3",children:[e.jsx(j,{type:"submit",style:"primary",disabled:l(),children:l()?"Envoi...":"Confirmer"}),e.jsx(N,{to:c.PUBLIC.LOGIN.PATH,className:"flex flex-col",children:e.jsx(j,{type:"button",style:"secondary",children:"Annuler"})})]})]})]})})})};me.__docgenInfo={description:"",methods:[],displayName:"ConfirmationPage"};const de=""+new URL("not-found-hAIVVBf6.png",import.meta.url).href;function ue(){return e.jsxs("div",{className:"flex min-h-screen flex-col items-center justify-center overflow-hidden bg-[radial-gradient(circle_at_center,#ffffff,#e6e9ef)] px-8 text-center",children:[e.jsx("img",{src:de,alt:"Portefeuille vide avec un virevoltant",className:"mx-auto mb-8 block h-auto w-full max-w-100 filter-[drop-shadow(0_10px_20px_rgba(46,159,118,0.3))]"}),e.jsx("h1",{className:"mb-2 text-4xl font-bold text-gray-800",children:"Oups, ce portefeuille est vide."}),e.jsx("p",{className:"mb-8 text-base text-gray-600",children:"La page que vous cherchez semble avoir disparu. Retournez en lieu sûr."}),e.jsx(N,{to:c.PUBLIC.HOME.PATH,className:"inline-block rounded-full bg-[#2E9F76] px-6 py-3 font-bold text-white shadow-lg transition-all duration-300 hover:-translate-y-0.5 hover:bg-[#248c66]",children:"Retour à l'accueil"})]})}ue.__docgenInfo={description:"",methods:[],displayName:"NotFoundPage"};const fe=""+new URL("under-construct-CT8WYQ-o.png",import.meta.url).href,he=()=>e.jsxs("div",{className:"flex min-h-screen flex-col items-center justify-center overflow-hidden bg-[radial-gradient(circle_at_center,#ffffff,#e6e9ef)] px-8 text-center",children:[e.jsx("img",{src:fe,alt:"Illustration d'un portefeuille vide avec un virevoltant",className:"animate-float mx-auto mb-10 w-full max-w-87.5 drop-shadow-[0_15px_25px_rgba(16,185,129,0.3)]"}),e.jsx("h1",{className:"text-accent mb-4 text-4xl font-bold md:text-5xl",children:"Travaux en cours"}),e.jsxs("p",{className:"font-mulish text-neutral mb-10 text-lg leading-relaxed",children:["Nous construisons quelque chose de grand pour vous aider à gérer votre budget sereinement."," ",e.jsx("br",{className:"hidden md:inline"}),"Cette page sera bientôt disponible."]}),e.jsx(N,{to:c.PUBLIC.HOME.PATH,className:"inline-block rounded-full bg-[#2E9F76] px-6 py-3 font-bold text-white shadow-lg transition-all duration-300 hover:-translate-y-0.5 hover:bg-[#248c66]",children:"Retour à l'accueil"})]});he.__docgenInfo={description:"",methods:[],displayName:"UnderConstructionPage"};const xe=()=>{const s=L(),{forgotPassword:a,loading:n,confirmationError:r,confirmationStatus:l,resetConfirmationState:o}=w(),[i,f]=t.useState(""),[m,h]=t.useState({});return t.useEffect(()=>{l===x.Success&&(O.success("Email envoyé avec succès ! Vérifiez votre boîte mail."),s(c.PUBLIC.LOGIN.PATH))},[l,s]),t.useEffect(()=>()=>{o()},[o]),{email:i,errors:m,confirmationError:r,loading:n,handleChange:p=>{f(p),m.email&&h(u=>({...u,email:void 0}))},onSubmit:async p=>{p.preventDefault();const u=k.safeParse({email:i});if(!u.success){h(T(u.error));return}await a(i)}}},pe=()=>{const{email:s,errors:a,confirmationError:n,loading:r,handleChange:l,onSubmit:o}=xe();return e.jsx("div",{className:"flex min-h-screen flex-col",children:e.jsx("main",{className:"flex flex-1 items-center justify-center p-4 pt-20",children:e.jsxs("div",{className:"w-full max-w-md",children:[e.jsx("div",{className:"mb-10 text-center",children:e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Mot de passe oublié"})}),e.jsxs("form",{onSubmit:o,className:"flex flex-col gap-6",children:[n&&e.jsx("div",{className:"flex justify-center",children:e.jsx(y,{status:"error",layout:"box",children:n})}),e.jsx("div",{className:"form-control w-full [&_input]:w-full",children:e.jsx(g,{id:"email",label:"Email",name:"email",type:"email",value:s,onChange:l,placeholder:"Entrez votre adresse email...",required:!0,style:a.email?"error":"neutral",helperText:a.email})}),e.jsxs("div",{className:"mt-4 flex w-full flex-col gap-3",children:[e.jsx(j,{type:"submit",style:"primary",disabled:r,children:r?"Envoi...":"Confirmer"}),e.jsx(N,{to:c.PUBLIC.LOGIN.PATH,className:"flex flex-col",children:e.jsx(j,{type:"button",style:"secondary",children:"Annuler"})})]})]})]})})})};pe.__docgenInfo={description:"",methods:[],displayName:"ForgotPasswordPage"};const ge=()=>{const s=L(),{login:a,loading:n,confirmationError:r,confirmationStatus:l}=w(),[o,i]=t.useState({email:"",password:""}),[f,m]=t.useState({}),[h,d]=t.useState(!1);return{formData:o,errors:f,confirmationError:r,confirmationStatus:l,loading:n,showPassword:h,handleChange:(P,A)=>{i(b=>({...b,[P]:A})),f[P]&&m(b=>({...b,[P]:void 0}))},togglePasswordVisibility:()=>d(!h),onSubmit:async P=>{P.preventDefault();const A=oe.safeParse(o);if(!A.success){m(T(A.error));return}const b=await a(o);b?.tempToken&&(sessionStorage.setItem("tmp_token",b.tempToken),s(c.PUBLIC.TWO_FA.PATH))}}},Ne=()=>{const{formData:s,errors:a,confirmationError:n,loading:r,showPassword:l,handleChange:o,togglePasswordVisibility:i,onSubmit:f}=ge();return e.jsx("div",{className:"flex min-h-screen flex-col",children:e.jsx("main",{className:"flex flex-1 items-center justify-center p-4 pt-20",children:e.jsxs("div",{className:"w-full max-w-md",children:[e.jsx("div",{className:"mb-10 text-center",children:e.jsx("h1",{className:"text-4xl font-bold text-gray-900",children:"Connexion"})}),e.jsxs("form",{onSubmit:f,className:"flex flex-col gap-6",children:[n&&e.jsx("div",{className:"flex justify-center",children:e.jsx(y,{status:"error",layout:"box",children:n})}),e.jsx("div",{className:"form-control w-full [&_input]:w-full",children:e.jsx(g,{label:"Email",id:"email",name:"email",type:"email",value:s.email,onChange:m=>o("email",m),placeholder:"Entrez votre adresse email...",style:a.email?"error":"neutral",helperText:a.email,required:!0})}),e.jsx("div",{className:"form-control relative w-full [&_input]:w-full",children:e.jsxs("div",{className:"relative w-full",children:[e.jsx(g,{label:"Password",id:"password",name:"password",type:l?"text":"password",value:s.password,onChange:m=>o("password",m),placeholder:"Entrez votre mot de passe...",required:!0,style:a.password?"error":"neutral",helperText:a.password}),e.jsx(H,{isVisible:l,onToggle:i})]})}),e.jsx("div",{className:"-mt-2 text-center",children:e.jsx(N,{to:c.PUBLIC.FORGOT_PASSWORD.PATH,className:"text-sm font-medium text-gray-600 hover:text-gray-900",children:"Mot de passe oublié ?"})}),e.jsx("div",{className:"w-full [&_button]:flex! [&_button]:h-12! [&_button]:w-full [&_button]:items-center! [&_button]:justify-center!",children:e.jsx(j,{type:"submit",style:"primary",disabled:r,children:r?"Connexion...":"Connexion"})}),e.jsxs("div",{className:"mt-2 text-center text-sm text-gray-600",children:["Vous n'avez pas encore de compte ? ","",e.jsx(N,{to:c.PUBLIC.REGISTER.PATH,className:"text-error font-medium hover:underline",children:"Inscrivez-vous ici."})]})]})]})})})};Ne.__docgenInfo={description:"",methods:[],displayName:"LoginPage"};const ve=()=>{const{user:s}=w(),a=s?`${s.firstName?.charAt(0)||""}${s.lastName?.charAt(0)||""}`.toUpperCase():"--",n=s?`${s.firstName} ${s.lastName}`:"";return{displayData:{firstName:s?.firstName||"",lastName:s?.lastName||"",email:s?.email||""},userInitials:a,fullName:n}},z=()=>{const{displayData:s,userInitials:a,fullName:n}=ve(),{fetchMe:r}=w();return t.useEffect(()=>{r()},[r]),e.jsx("div",{className:"flex h-screen overflow-auto",children:e.jsxs("div",{className:"mx-auto w-full max-w-4xl flex-1 p-8 pt-20",children:[e.jsxs("div",{className:"mb-12 flex items-center gap-6",children:[e.jsx("div",{className:"initials placeholder",children:e.jsx("div",{className:"bg-neutral text-neutral-content flex h-24 w-24 items-center justify-center rounded-full",children:e.jsx("span",{className:"text-2xl font-bold",children:a})})}),e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:n})]}),e.jsxs("form",{className:"space-y-8",children:[e.jsx("div",{className:"w-full",children:e.jsx(g,{label:"Email",id:"email",name:"email",value:s.email,disabled:!0,placeholder:"Entrez votre adresse email..."})}),e.jsxs("div",{className:"grid grid-cols-1 gap-8 md:grid-cols-2",children:[e.jsx("div",{className:"w-full",children:e.jsx(g,{label:"Nom",id:"lastName",name:"lastName",value:s.lastName,disabled:!0,placeholder:"Entrez votre nom..."})}),e.jsx("div",{className:"w-full",children:e.jsx(g,{label:"Prénom",id:"firstName",name:"firstName",value:s.firstName,disabled:!0,placeholder:"Entrez votre prénom..."})})]})]})]})})};z.__docgenInfo={description:"",methods:[],displayName:"ProfilePage"};const Ee=()=>{const s=L(),{register:a,loading:n,confirmationError:r,confirmationStatus:l,resetConfirmationState:o}=w(),[i,f]=t.useState({email:"",firstName:"",lastName:"",password:"",confirmedPassword:""}),[m,h]=t.useState({}),[d,v]=t.useState(!1),[p,u]=t.useState(!1);return t.useEffect(()=>{l===x.Success&&(O.success("Compte créé avec succès ! Vous pouvez maintenant vous connecter."),s(c.PUBLIC.LOGIN.PATH))},[l,s]),t.useEffect(()=>()=>{o()},[o]),{formData:i,errors:m,confirmationError:r,loading:n,showPassword:d,showConfirmPassword:p,handleChange:(S,C)=>{f(_=>({..._,[S]:C})),m[S]&&h(_=>({..._,[S]:void 0}))},togglePasswordVisibility:()=>v(!d),toggleConfirmPasswordVisibility:()=>u(!p),onSubmit:async S=>{S.preventDefault();const C=ie.safeParse(i);if(!C.success){h(T(C.error));return}await a(i)}}},je=()=>{const{formData:s,errors:a,confirmationError:n,loading:r,showPassword:l,showConfirmPassword:o,handleChange:i,togglePasswordVisibility:f,toggleConfirmPasswordVisibility:m,onSubmit:h}=Ee();return e.jsx("div",{className:"flex min-h-screen flex-col",children:e.jsx("main",{className:"flex flex-1 items-center justify-center p-4 pt-20",children:e.jsxs("div",{className:"w-full max-w-md",children:[e.jsx("div",{className:"mb-10 text-center",children:e.jsx("h1",{className:"text-4xl font-bold text-gray-900",children:"Inscription"})}),e.jsxs("form",{onSubmit:h,className:"flex flex-col gap-6",children:[n&&e.jsx("div",{className:"flex justify-center",children:e.jsx(y,{status:"error",layout:"box",children:n})}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsx("div",{className:"w-full",children:e.jsx(g,{label:"First Name",id:"firstName",name:"firstName",value:s.firstName,onChange:d=>i("firstName",d),placeholder:"Entrez votre prénom...",style:a.firstName?"error":"neutral",helperText:a.firstName,required:!0})}),e.jsx("div",{className:"w-full",children:e.jsx(g,{label:"Last Name",id:"lastName",name:"lastName",value:s.lastName,onChange:d=>i("lastName",d),placeholder:"Entrez votre nom...",style:a.lastName?"error":"neutral",helperText:a.lastName,required:!0})})]}),e.jsx("div",{className:"form-control w-full [&_input]:w-full",children:e.jsx(g,{label:"Email",id:"email",name:"email",type:"email",value:s.email,onChange:d=>i("email",d),placeholder:"Entrez votre adresse email...",style:a.email?"error":"neutral",helperText:a.email,required:!0})}),e.jsx("div",{className:"form-control relative w-full [&_input]:w-full",children:e.jsxs("div",{className:"relative w-full",children:[e.jsx(g,{label:"Password",id:"password",name:"password",type:l?"text":"password",value:s.password,onChange:d=>i("password",d),placeholder:"Entrez votre mot de passe...",style:a.password?"error":"neutral",helperText:a.password,required:!0}),e.jsx(H,{isVisible:l,onToggle:f})]})}),e.jsx("div",{className:"form-control relative w-full [&_input]:w-full",children:e.jsxs("div",{className:"relative w-full",children:[e.jsx(g,{label:"Confirm Password",id:"confirmPassword",name:"confirmPassword",type:o?"text":"password",value:s.confirmedPassword,onChange:d=>i("confirmedPassword",d),placeholder:"Confirmez votre mot de passe...",style:a.confirmedPassword?"error":"neutral",helperText:a.confirmedPassword,required:!0}),e.jsx(H,{isVisible:o,onToggle:m})]})}),e.jsx("div",{className:"mt-6 w-full [&_button]:flex! [&_button]:h-12! [&_button]:w-full [&_button]:items-center! [&_button]:justify-center!",children:e.jsx(j,{type:"submit",style:"primary",disabled:r,children:r?"Inscription...":"Inscription"})}),e.jsxs("div",{className:"mt-2 text-center text-sm text-gray-600",children:["Vous avez déjà un compte ? ","",e.jsx(N,{to:c.PUBLIC.LOGIN.PATH,className:"text-error font-medium hover:underline",children:"Connectez-vous ici."})]})]})]})})})};je.__docgenInfo={description:"",methods:[],displayName:"RegisterPage"};const c={PUBLIC:{HOME:{PATH:"/",LABEL:"O'Zeille"},LOGIN:{PATH:"/login",LABEL:"Se connecter"},REGISTER:{PATH:"/register",LABEL:"S'inscrire"},FORGOT_PASSWORD:{PATH:"/forgot-password"},SEND_CONFIRM_EMAIL:{PATH:"/send-confirm-email",LABEL:"Rénvoyer le mail de confirmation"},TWO_FA:{PATH:"/2fa"}},PRIVATE:{DASHBOARD:{PATH:"/dashboard",COMPONENT:()=>R.createElement("h1",null,"Tableau de bord"),ICON:U,HIDE_IN_MENU:!1,LABEL:"Tableau de bord"},BUDGETS:{PATH:"/budgets",COMPONENT:()=>R.createElement("h1",null,"Budgets"),ICON:G,HIDE_IN_MENU:!1,LABEL:"Budgets"},CATEGORIES:{PATH:"/categories",COMPONENT:K,ICON:B,HIDE_IN_MENU:!1,LABEL:"Categories"},PROFILE:{PATH:"/profile",COMPONENT:z,ICON:D,HIDE_IN_MENU:!0,LABEL:"Profil"},TRANSACTIONS:{PATH:"/transactions",COMPONENT:X,ICON:$,HIDE_IN_MENU:!1,LABEL:"Transactions"}},HOME:{FEATURES:{PATH:"/#features",COMPONENT:void 0,ICON:void 0,HIDE_IN_MENU:!1,LABEL:"Fonctionnalités"},SECURITY:{PATH:"/#security",COMPONENT:void 0,ICON:void 0,HIDE_IN_MENU:!1,LABEL:"Sécurité"},PRICING:{PATH:"/#pricing",COMPONENT:void 0,ICON:void 0,HIDE_IN_MENU:!1,LABEL:"Tarifs"}}};export{le as C,pe as F,Ne as L,ue as N,se as P,je as R,ne as T,he as U,c as a,me as b,z as c,w as u};
