import{r as a,j as n}from"./iframe-BGXKwssU.js";import{D as d}from"./DataTable-DkNK4GNX.js";import{T as c}from"./TransactionModal-MNSXm_Bw.js";import{u as m}from"./transactionsStore-Bcfj0aDs.js";import{A as g}from"./ActionMenu-BsBzRYoH.js";import{T as u}from"./TransactionDeleteModal-DTAbVZTy.js";function p(){return{columns:a.useMemo(()=>[{accessorKey:"dueAt",header:"Date",cell:({row:e})=>new Date(e.original.dueAt).toLocaleDateString()},{accessorKey:"category",header:"Catégorie",cell:({row:e})=>e.original.category.label},{accessorKey:"amount",header:"Montant",cell:({row:e})=>`${e.original.amount} €`},{accessorKey:"label",header:"Libellé"},{id:"actions",header:"",cell:({row:e})=>{const t=e.original,r=[{label:"Éditer",render:a.createElement(c,{transaction:e.original}),style:"outline"},{label:"Supprimer",render:a.createElement(u,{transaction:t}),style:"dangerOutline"}];return a.createElement(g,{actions:r})}}],[])}}const f=()=>{const{columns:s}=p(),e=10,[t,r]=a.useState({pageIndex:0,pageSize:e}),{fetchTransactions:o,meta:i,transactions:l}=m();return a.useEffect(()=>{o({limit:e,page:t.pageIndex+1})},[o,e,t.pageIndex]),n.jsxs("div",{className:"flex h-full flex-col gap-4",children:[n.jsx("h1",{children:"Transactions"}),n.jsx("div",{className:"flex justify-end gap-4",children:n.jsx(c,{})}),n.jsx(d,{pageSize:e,data:l,columns:s,currentPage:t,setCurrentPage:r,totalPage:i.totalPages,paginated:!0})]})};f.__docgenInfo={description:"",methods:[],displayName:"TransactionPage"};export{f as T};
