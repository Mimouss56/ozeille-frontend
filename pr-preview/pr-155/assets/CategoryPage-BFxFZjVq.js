import{r as o,j as t}from"./iframe-Bm94xm6e.js";import{C as i}from"./CategoryModal-D1Pzam2e.js";import{D as m}from"./DataTable-BeApd1Sd.js";import{u as n}from"./schemas-CMyL0t2X.js";import"./budgetsStore-B0uBIzLI.js";import"./frequenciesStore-Cs5YAFGJ.js";import"./transactionsStore-CwjT52M8.js";import{r as g}from"./Trash.es-DBT3Ui45.js";import{A as u}from"./ActionMenu-DRQlDrTf.js";import{D as p}from"./Dot-lCVaIxg7.js";function x(){const{deleteCategoryById:r}=n();return{columns:o.useMemo(()=>[{accessorKey:"label",header:"Nom",cell:({row:e})=>e.original.label},{accessorKey:"color",header:"Couleur",cell:({row:e})=>o.createElement(p,{color:e.original.color||"#F0F0F0"})},{accessorKey:"budgetId",header:"Budget",cell:({row:e})=>e.original.budget?.label},{accessorKey:"limitAmount",header:"Plafond",cell:({row:e})=>`${e.original.limitAmount} €`},{id:"actions",header:"Actions",cell:({row:e})=>{const a=[{style:"outline",render:o.createElement(i,{category:e.original}),label:""},{label:"Supprimer",icon:g,style:"dangerOutline",onClick:()=>r(e.original.id)}];return o.createElement(u,{actions:a})}}],[r])}}const y=()=>{const{categories:r,fetchCategories:s,meta:e}=n(),a=10,[l,c]=o.useState({pageIndex:0,pageSize:a}),{columns:d}=x();return o.useEffect(()=>{s({limit:a,page:l.pageIndex+1})},[s,l.pageIndex]),t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Gestion des catégories"}),t.jsx(i,{})]}),t.jsx("div",{className:"overflow-hidden rounded-xl border border-gray-200 bg-white shadow-sm",children:t.jsx(m,{columns:d,data:r,pageSize:a,currentPage:l,setCurrentPage:c,totalPage:e.totalPages,paginated:!0})})]})};y.__docgenInfo={description:"",methods:[],displayName:"CategoryPage"};export{y as C};
