import{r as a,j as s}from"./iframe-Bw_vLHhj.js";import{D as d}from"./DataTable-Q0y4FHSI.js";import{T as o}from"./TransactionModal-CCZ0meiG.js";import{u as m}from"./transactionsStore-CFljbjZR.js";import{A as g}from"./ActionMenu-BL489Tlf.js";import{T as u}from"./TransactionDeleteModal-Cc_0w1Fz.js";function p(){const r=a.useCallback(e=>[{label:"Éditer",render:a.createElement(o,{transaction:e}),style:"outline"},{label:"Supprimer",render:a.createElement(u,{transaction:e}),style:"dangerOutline"}],[]);return{columns:a.useMemo(()=>[{accessorKey:"dueAt",header:"Date",cell:({row:e})=>new Date(e.original.dueAt).toLocaleDateString()},{accessorKey:"category",header:"Catégorie",cell:({row:e})=>e.original.category.label},{accessorKey:"amount",header:"Montant",cell:({row:e})=>`${e.original.amount} €`},{accessorKey:"label",header:"Libellé"},{id:"actions",header:"",cell:({row:e})=>a.createElement(g,{actions:r(e.original)})}],[r])}}const f=()=>{const{columns:r}=p(),t=10,[e,c]=a.useState({pageIndex:0,pageSize:t}),{fetchTransactions:n,meta:l,transactions:i}=m();return a.useEffect(()=>{n({limit:t,page:e.pageIndex+1})},[n,t,e.pageIndex]),s.jsxs("div",{className:"flex h-full flex-col gap-4",children:[s.jsx("h1",{children:"Transactions"}),s.jsx("div",{className:"flex justify-end gap-4",children:s.jsx(o,{})}),s.jsx(d,{pageSize:t,data:i,columns:r,currentPage:e,setCurrentPage:c,totalPage:l.totalPages,paginated:!0})]})};f.__docgenInfo={description:"",methods:[],displayName:"TransactionPage"};export{f as T};
