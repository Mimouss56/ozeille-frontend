import{r as t,j as a}from"./iframe-C6ym6zC5.js";import{C as c}from"./CategoryModal-w2nZU-Dm.js";import{D as m}from"./DataTable-CY2Cj_5a.js";import{r as u}from"./Trash.es-DZK3a6bH.js";import{A as p}from"./ActionMenu-CimMWpKK.js";import{D as x}from"./Dot-Da4ZXJx8.js";import{u as f}from"./schemas-BpXA608T.js";function y(){const{deleteCategoryById:s,fetchCategories:l,meta:i,categories:n}=f(),o=10,[r,g]=t.useState({pageIndex:0,pageSize:o});return t.useEffect(()=>{l({limit:o,page:r.pageIndex+1})},[l,r.pageIndex]),{columns:t.useMemo(()=>[{accessorKey:"label",header:"Nom",cell:({row:e})=>e.original.label},{accessorKey:"color",header:"Couleur",cell:({row:e})=>t.createElement(x,{color:e.original.color||"#F0F0F0"})},{accessorKey:"budgetId",header:"Budget",cell:({row:e})=>e.original.budget?.label},{accessorKey:"limitAmount",header:"Plafond",cell:({row:e})=>`${e.original.limitAmount} €`},{id:"actions",header:"Actions",cell:({row:e})=>{const d=[{style:"outline",render:t.createElement(c,{category:e.original}),label:""},{label:"Supprimer",icon:u,style:"dangerOutline",onClick:()=>s(e.original.id)}];return t.createElement(p,{actions:d})}}],[s]),categories:n,limit:o,page:r,setPage:g,meta:i}}const b=()=>{const{columns:s,categories:l,limit:i,page:n,setPage:o,meta:r}=y();return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Gestion des catégories"}),a.jsx(c,{})]}),a.jsx("div",{className:"overflow-x-auto·rounded-xl·border·border-gray-200·bg-white·shadow-sm md:overflow-visible",children:a.jsx(m,{columns:s,data:l,pageSize:i,currentPage:n,setCurrentPage:o,totalPage:r.totalPages,paginated:!0})})]})};b.__docgenInfo={description:"",methods:[],displayName:"CategoryPage"};export{b as C};
