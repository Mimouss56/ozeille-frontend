import{r as a,j as s}from"./iframe-BBC-KBYd.js";import{D as d}from"./DataTable-G2SGJLKU.js";import{T as o}from"./TransactionModal-CF1bqesc.js";import{u as m}from"./transactionsStore-D18ufPVf.js";import{A as g}from"./ActionMenu-Dy8nnq7v.js";import{T as u}from"./TransactionDeleteModal-B2kOTBWL.js";function p(){const r=a.useCallback(e=>[{label:"Éditer",render:a.createElement(o,{transaction:e}),style:"outline"},{label:"Supprimer",render:a.createElement(u,{transaction:e}),style:"dangerOutline"}],[]);return{columns:a.useMemo(()=>[{accessorKey:"dueAt",header:"Date",cell:({row:e})=>new Date(e.original.dueAt).toLocaleDateString()},{accessorKey:"category",header:"Catégorie",cell:({row:e})=>e.original.category.label},{accessorKey:"amount",header:"Montant",cell:({row:e})=>`${e.original.amount} €`},{accessorKey:"label",header:"Libellé"},{id:"actions",header:"",cell:({row:e})=>a.createElement(g,{actions:r(e.original)})}],[r])}}const x=()=>{const{columns:r}=p(),t=10,[e,l]=a.useState({pageIndex:0,pageSize:t}),{fetchTransactions:n,meta:c,transactions:i}=m();return a.useEffect(()=>{n({limit:t,page:e.pageIndex+1})},[n,t,e.pageIndex]),s.jsxs("div",{className:"flex h-full flex-col gap-4",children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Transactions"}),s.jsx("div",{className:"flex justify-end gap-4",children:s.jsx(o,{})}),s.jsx(d,{pageSize:t,data:i,columns:r,currentPage:e,setCurrentPage:l,totalPage:c.totalPages,paginated:!0})]})};x.__docgenInfo={description:"",methods:[],displayName:"TransactionPage"};export{x as T};
