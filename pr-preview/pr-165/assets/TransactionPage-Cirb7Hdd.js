import{r as a,j as s}from"./iframe-C_JWn-k2.js";import{D as g}from"./DataTable-D70ge_F2.js";import{T as l}from"./TransactionModal-dG6tJhC4.js";import{u as d}from"./schemas-D96PONPH.js";import{u as p}from"./frequenciesStore-aShp5Gn-.js";import{A as f}from"./ActionMenu-DvyUyIeb.js";import{T as x}from"./TransactionDeleteModal-C98GO1lS.js";import{u as h}from"./transactionsStore-C0Kj7akj.js";function T(){const r=a.useCallback(e=>[{label:"Éditer",render:a.createElement(l,{transaction:e}),style:"outline"},{label:"Supprimer",render:a.createElement(x,{transaction:e}),style:"dangerOutline"}],[]);return{columns:a.useMemo(()=>[{accessorKey:"dueAt",header:"Date",cell:({row:e})=>new Date(e.original.dueAt).toLocaleDateString()},{accessorKey:"category",header:"Catégorie",cell:({row:e})=>e.original.category.label},{accessorKey:"amount",header:"Montant",cell:({row:e})=>`${e.original.amount} €`},{accessorKey:"label",header:"Libellé"},{id:"actions",header:"",cell:({row:e})=>a.createElement(f,{actions:r(e.original)})}],[r])}}const y=()=>{const{columns:r}=T(),t=10,[e,i]=a.useState({pageIndex:0,pageSize:t}),{fetchTransactions:o,meta:u,transactions:m}=h(),{fetchCategories:n}=d(),{fetchFrequencies:c}=p();return a.useEffect(()=>{o({limit:t,page:e.pageIndex+1})},[o,t,e.pageIndex]),a.useEffect(()=>{n(),c()},[n,c]),s.jsxs("div",{className:"flex h-full flex-col gap-4",children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Transactions"}),s.jsx("div",{className:"flex justify-end gap-4",children:s.jsx(l,{})}),s.jsx(g,{pageSize:t,data:m,columns:r,currentPage:e,setCurrentPage:i,totalPage:u.totalPages,paginated:!0})]})};y.__docgenInfo={description:"",methods:[],displayName:"TransactionPage"};export{y as T};
