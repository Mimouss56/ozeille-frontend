import{r as a,j as t}from"./iframe-C0DL0Vb_.js";import{C as n}from"./CategoryModal-DDVdoy4p.js";import{D as d}from"./DataTable-Cp20Y_Ds.js";import{r as u}from"./Trash.es-iSccK4qx.js";import{A as p}from"./ActionMenu-rau5EM-c.js";import{D as f}from"./Dot-YPRY8AHS.js";import{u as x}from"./schemas-B6G9HTT6.js";function y(){const{deleteCategoryById:l,fetchCategories:s,meta:i,categories:c}=x(),o=10,[r,g]=a.useState({pageIndex:0,pageSize:o});return a.useEffect(()=>{s({limit:o,page:r.pageIndex+1})},[s,r.pageIndex]),{columns:a.useMemo(()=>[{accessorKey:"label",header:"Nom",cell:({row:e})=>e.original.label},{accessorKey:"color",header:"Couleur",cell:({row:e})=>a.createElement(f,{color:e.original.color||"#F0F0F0"})},{accessorKey:"budgetId",header:"Budget",cell:({row:e})=>e.original.budget?.label},{accessorKey:"limitAmount",header:"Plafond",cell:({row:e})=>`${e.original.limitAmount} €`},{id:"actions",header:"Actions",cell:({row:e})=>{const m=[{style:"outline",render:a.createElement(n,{category:e.original}),label:""},{label:"Supprimer",icon:u,style:"dangerOutline",onClick:()=>l(e.original.id)}];return a.createElement(p,{actions:m})}}],[l]),categories:c,limit:o,page:r,setPage:g,meta:i}}const h=()=>{const{columns:l,categories:s,limit:i,page:c,setPage:o,meta:r}=y();return t.jsxs("div",{className:"flex h-full flex-col gap-4",children:[t.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Gestion des catégories"}),t.jsx("div",{className:"flex justify-end gap-4",children:t.jsx(n,{})}),t.jsx("div",{className:"overflow-x-auto md:overflow-visible",children:t.jsx(d,{columns:l,data:s,pageSize:i,currentPage:c,setCurrentPage:o,totalPage:r.totalPages,paginated:!0})})]})};h.__docgenInfo={description:"",methods:[],displayName:"CategoryPage"};export{h as C};
