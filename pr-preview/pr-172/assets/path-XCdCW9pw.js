import{r as s,j as e,R as c}from"./iframe-CccXUuDF.js";import{p as z}from"./IconBase.es-CjZqpH1n.js";import{a as ae}from"./Hero-B5eyiWs6.js";import{a as ne}from"./Features-Cekq7nwp.js";import{o as oe}from"./Wallet.es-Cu4Xw4qf.js";import{C as le,u as j,a as F}from"./ClearAuthRoute-cqxgAiIh.js";import{u as O,L as v,b as Z,c as ie}from"./chunk-EPOLDU6W-Do2Ws5-g.js";import{B as E}from"./Button-DlL2HUL4.js";import{I as w}from"./InputField-B3m7gIoo.js";import{S as L}from"./StatusMessage-DAmAeJ46.js";import{B as ce}from"./BudgetPage-KxmQxHK6.js";import{C as de}from"./CategoryPage-o5p57ed1.js";import{y as H}from"./axiosClient-D1wqeCOi.js";import{o as R,s as A,e as U}from"./schemas-Ce26SkAe.js";import"./HomePage-B8BKN8gN.js";import{P as k}from"./PasswordToggle-3s_h3a_j.js";import{T as me}from"./TransactionPage-C41LsC2_.js";const ue=new Map([["bold",s.createElement(s.Fragment,null,s.createElement("path",{d:"M222.14,105.85l-80-80a20,20,0,0,0-28.28,0l-80,80A19.86,19.86,0,0,0,28,120v96a12,12,0,0,0,12,12h64a12,12,0,0,0,12-12V164h24v52a12,12,0,0,0,12,12h64a12,12,0,0,0,12-12V120A19.86,19.86,0,0,0,222.14,105.85ZM204,204H164V152a12,12,0,0,0-12-12H104a12,12,0,0,0-12,12v52H52V121.65l76-76,76,76Z"}))],["duotone",s.createElement(s.Fragment,null,s.createElement("path",{d:"M216,120v96H152V152H104v64H40V120a8,8,0,0,1,2.34-5.66l80-80a8,8,0,0,1,11.32,0l80,80A8,8,0,0,1,216,120Z",opacity:"0.2"}),s.createElement("path",{d:"M219.31,108.68l-80-80a16,16,0,0,0-22.62,0l-80,80A15.87,15.87,0,0,0,32,120v96a8,8,0,0,0,8,8h64a8,8,0,0,0,8-8V160h32v56a8,8,0,0,0,8,8h64a8,8,0,0,0,8-8V120A15.87,15.87,0,0,0,219.31,108.68ZM208,208H160V152a8,8,0,0,0-8-8H104a8,8,0,0,0-8,8v56H48V120l80-80,80,80Z"}))],["fill",s.createElement(s.Fragment,null,s.createElement("path",{d:"M224,120v96a8,8,0,0,1-8,8H160a8,8,0,0,1-8-8V164a4,4,0,0,0-4-4H108a4,4,0,0,0-4,4v52a8,8,0,0,1-8,8H40a8,8,0,0,1-8-8V120a16,16,0,0,1,4.69-11.31l80-80a16,16,0,0,1,22.62,0l80,80A16,16,0,0,1,224,120Z"}))],["light",s.createElement(s.Fragment,null,s.createElement("path",{d:"M217.9,110.1l-80-80a14,14,0,0,0-19.8,0l-80,80A13.92,13.92,0,0,0,34,120v96a6,6,0,0,0,6,6h64a6,6,0,0,0,6-6V158h36v58a6,6,0,0,0,6,6h64a6,6,0,0,0,6-6V120A13.92,13.92,0,0,0,217.9,110.1ZM210,210H158V152a6,6,0,0,0-6-6H104a6,6,0,0,0-6,6v58H46V120a2,2,0,0,1,.58-1.42l80-80a2,2,0,0,1,2.84,0l80,80A2,2,0,0,1,210,120Z"}))],["regular",s.createElement(s.Fragment,null,s.createElement("path",{d:"M219.31,108.68l-80-80a16,16,0,0,0-22.62,0l-80,80A15.87,15.87,0,0,0,32,120v96a8,8,0,0,0,8,8h64a8,8,0,0,0,8-8V160h32v56a8,8,0,0,0,8,8h64a8,8,0,0,0,8-8V120A15.87,15.87,0,0,0,219.31,108.68ZM208,208H160V152a8,8,0,0,0-8-8H104a8,8,0,0,0-8,8v56H48V120l80-80,80,80Z"}))],["thin",s.createElement(s.Fragment,null,s.createElement("path",{d:"M216.49,111.51l-80-80a12,12,0,0,0-17,0l-80,80A12,12,0,0,0,36,120v96a4,4,0,0,0,4,4h64a4,4,0,0,0,4-4V156h40v60a4,4,0,0,0,4,4h64a4,4,0,0,0,4-4V120A12,12,0,0,0,216.49,111.51ZM212,212H156V152a4,4,0,0,0-4-4H104a4,4,0,0,0-4,4v60H44V120a4,4,0,0,1,1.17-2.83l80-80a4,4,0,0,1,5.66,0l80,80A4,4,0,0,1,212,120Z"}))]]),fe=new Map([["bold",s.createElement(s.Fragment,null,s.createElement("path",{d:"M234.38,210a123.36,123.36,0,0,0-60.78-53.23,76,76,0,1,0-91.2,0A123.36,123.36,0,0,0,21.62,210a12,12,0,1,0,20.77,12c18.12-31.32,50.12-50,85.61-50s67.49,18.69,85.61,50a12,12,0,0,0,20.77-12ZM76,96a52,52,0,1,1,52,52A52.06,52.06,0,0,1,76,96Z"}))],["duotone",s.createElement(s.Fragment,null,s.createElement("path",{d:"M192,96a64,64,0,1,1-64-64A64,64,0,0,1,192,96Z",opacity:"0.2"}),s.createElement("path",{d:"M230.92,212c-15.23-26.33-38.7-45.21-66.09-54.16a72,72,0,1,0-73.66,0C63.78,166.78,40.31,185.66,25.08,212a8,8,0,1,0,13.85,8c18.84-32.56,52.14-52,89.07-52s70.23,19.44,89.07,52a8,8,0,1,0,13.85-8ZM72,96a56,56,0,1,1,56,56A56.06,56.06,0,0,1,72,96Z"}))],["fill",s.createElement(s.Fragment,null,s.createElement("path",{d:"M230.93,220a8,8,0,0,1-6.93,4H32a8,8,0,0,1-6.92-12c15.23-26.33,38.7-45.21,66.09-54.16a72,72,0,1,1,73.66,0c27.39,8.95,50.86,27.83,66.09,54.16A8,8,0,0,1,230.93,220Z"}))],["light",s.createElement(s.Fragment,null,s.createElement("path",{d:"M229.19,213c-15.81-27.32-40.63-46.49-69.47-54.62a70,70,0,1,0-63.44,0C67.44,166.5,42.62,185.67,26.81,213a6,6,0,1,0,10.38,6C56.4,185.81,90.34,166,128,166s71.6,19.81,90.81,53a6,6,0,1,0,10.38-6ZM70,96a58,58,0,1,1,58,58A58.07,58.07,0,0,1,70,96Z"}))],["regular",s.createElement(s.Fragment,null,s.createElement("path",{d:"M230.92,212c-15.23-26.33-38.7-45.21-66.09-54.16a72,72,0,1,0-73.66,0C63.78,166.78,40.31,185.66,25.08,212a8,8,0,1,0,13.85,8c18.84-32.56,52.14-52,89.07-52s70.23,19.44,89.07,52a8,8,0,1,0,13.85-8ZM72,96a56,56,0,1,1,56,56A56.06,56.06,0,0,1,72,96Z"}))],["thin",s.createElement(s.Fragment,null,s.createElement("path",{d:"M227.46,214c-16.52-28.56-43-48.06-73.68-55.09a68,68,0,1,0-51.56,0c-30.64,7-57.16,26.53-73.68,55.09a4,4,0,0,0,6.92,4C55,184.19,89.62,164,128,164s73,20.19,92.54,54a4,4,0,0,0,3.46,2,3.93,3.93,0,0,0,2-.54A4,4,0,0,0,227.46,214ZM68,96a60,60,0,1,1,60,60A60.07,60.07,0,0,1,68,96Z"}))]]),W=s.forwardRef((t,r)=>s.createElement(z,{ref:r,...t,weights:ue}));W.displayName="HouseIcon";const G=s.forwardRef((t,r)=>s.createElement(z,{ref:r,...t,weights:fe}));G.displayName="UserIcon";const T=t=>{const r=a=>s.createElement(le,null,s.createElement(t,a??{}));return r.displayName=`WithClearAuth(${t.displayName??t.name??"Component"})`,r},he=()=>{const t=O(),{confirm2FA:r,loading:a,confirmationError:l,confirmationStatus:n}=j(),[o,i]=s.useState({token:""}),[u,f]=s.useState({});return{formData:o,errors:u,confirmationError:l,confirmationStatus:n,loading:a,handleChange:(g,p)=>{i(h=>({...h,[g]:p})),u[g]&&f(h=>({...h,[g]:void 0}))},onSubmit:async g=>{g.preventDefault(),await r(o.token),t(m.PRIVATE.TRANSACTIONS.PATH)}}},q=()=>{const{formData:t,errors:r,confirmationError:a,loading:l,handleChange:n,onSubmit:o}=he();return e.jsx("div",{className:"flex min-h-screen flex-col",children:e.jsx("main",{className:"flex flex-1 items-center justify-center p-4 pt-20",children:e.jsxs("div",{className:"w-full max-w-md",children:[e.jsx("div",{className:"mb-10 text-center",children:e.jsx("h1",{className:"text-4xl font-bold text-gray-900",children:"Double Authentification"})}),e.jsxs("form",{onSubmit:o,className:"flex flex-col gap-6",children:[a&&e.jsx(L,{status:"error",layout:"box",children:a}),e.jsx("div",{className:"form-control w-full [&_input]:w-full",children:e.jsx(w,{label:"2fa",id:"2fa",name:"token",type:"text",value:t.token,onChange:i=>n("token",i),placeholder:"Code 2FA reçu par email",style:r.token?"error":"neutral",helperText:r.token,required:!0})}),e.jsx("div",{className:"w-full [&_button]:flex! [&_button]:h-12! [&_button]:w-full [&_button]:items-center! [&_button]:justify-center!",children:e.jsx(E,{type:"submit",style:"primary",disabled:l,children:l?"Chargement...":"Connexion"})}),e.jsxs("div",{className:"mt-2 text-center text-sm text-gray-600",children:["Vous n'avez pas encore de compte ?"," ",e.jsx(v,{to:m.PUBLIC.REGISTER.PATH,className:"text-error font-medium hover:underline",children:"Inscrivez-vous ici."})]})]})]})})})};q.__docgenInfo={description:"",methods:[],displayName:"TwoFAPage"};function $(){const[t]=Z(),r=t.get("token"),{confirmEmail:a,isPending:l,isError:n,isConfirmed:o}=j();s.useEffect(()=>{r&&a(r)},[a,r]);let i="";return l()?i="Validation en cours...":o()?i="Votre email a bien été confirmé !":n()&&(i="Le lien de confirmation n'est plus valide. Veuillez refaire votre demande de confirmation."),e.jsxs("div",{className:"flex min-h-screen flex-col items-center justify-center gap-4 bg-white text-gray-900 antialiased",children:[e.jsx(L,{layout:"box",children:i}),o()&&e.jsx(v,{to:m.PUBLIC.LOGIN.PATH,className:"flex flex-col",children:e.jsx(E,{type:"button",children:"Se connecter"})}),n()&&e.jsx(v,{to:m.PUBLIC.SEND_CONFIRM_EMAIL.PATH,className:"flex flex-col",children:e.jsx(E,{type:"button",children:"Renvoyer le mail de confirmation"})})]})}$.__docgenInfo={description:"",methods:[],displayName:"ConfirmEmailPage"};const xe=R({password:A().min(12,"Le mot de passe doit faire au moins 12 caractères"),confirmedPassword:A()}).refine(t=>t.password===t.confirmedPassword,{message:"Les mots de passe ne correspondent pas",path:["confirmedPassword"]}),K=R({email:U("Format d'email invalide")}),pe=R({email:U("Format d'email invalide"),password:A().min(12,"Le mot de passe doit faire au moins 12 caractères")}),ge=R({firstName:A().min(1,"Le prénom doit contenir au moins 1 caractère"),lastName:A().min(1,"Le nom doit contenir au moins 1 caractère"),email:U("Format d'email invalide"),password:A().min(12,"Le mot de passe doit faire au moins 12 caractères"),confirmedPassword:A()}).refine(t=>t.password===t.confirmedPassword,{message:"Les mots de passe ne correspondent pas",path:["confirmedPassword"]}),M=t=>{const r={};return t.issues.forEach(a=>{const l=String(a.path[a.path.length-1]);r[l]=a.message}),r},Ne=()=>{const{sendConfirmationEmail:t,confirmationError:r,isPending:a,isError:l,isConfirmed:n,confirmationStatus:o}=j(),[i,u]=s.useState(""),[f,x]=s.useState({});return s.useEffect(()=>{n()&&H.success("Email envoyé avec succès ! Vérifiez votre boîte mail.")},[n,o]),{handleEmailChange:p=>{u(p),f.email&&x(h=>({...h,email:void 0}))},email:i,errors:f,onSubmit:async p=>{p.preventDefault();const h=K.safeParse({email:i});if(!h.success){x(M(h.error));return}await t(i)},isPending:a,isError:l,confirmationError:r,isConfirmed:n}},Y=()=>{const{email:t,errors:r,handleEmailChange:a,onSubmit:l,isPending:n,confirmationError:o}=Ne();return e.jsx("div",{className:"flex min-h-screen flex-col",children:e.jsx("main",{className:"flex flex-1 items-center justify-center p-4 pt-20",children:e.jsxs("div",{className:"w-full max-w-md",children:[e.jsx("div",{className:"mb-10 text-center",children:e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:m.PUBLIC.SEND_CONFIRM_EMAIL.LABEL})}),e.jsxs("form",{onSubmit:l,className:"flex flex-col gap-6",children:[o&&e.jsx("div",{className:"flex justify-center",children:e.jsx(L,{status:"error",layout:"box",children:o})}),e.jsx("div",{className:"form-control w-full [&_input]:w-full",children:e.jsx(w,{id:"email",label:"Email",name:"email",type:"email",value:t,onChange:a,placeholder:"Entrez votre adresse email...",style:r.email?"error":"neutral",helperText:r.email,required:!0})}),e.jsxs("div",{className:"mt-4 flex w-full flex-col gap-3",children:[e.jsx(E,{type:"submit",style:"primary",disabled:n(),children:n()?"Envoi...":"Confirmer"}),e.jsx(v,{to:m.PUBLIC.LOGIN.PATH,className:"flex flex-col",children:e.jsx(E,{type:"button",style:"secondary",children:"Annuler"})})]})]})]})})})};Y.__docgenInfo={description:"",methods:[],displayName:"ConfirmationPage"};const ve=""+new URL("not-found-hAIVVBf6.png",import.meta.url).href;function we(){return e.jsxs("div",{className:"flex min-h-screen flex-col items-center justify-center overflow-hidden bg-[radial-gradient(circle_at_center,#ffffff,#e6e9ef)] px-8 text-center",children:[e.jsx("img",{src:ve,alt:"Portefeuille vide avec un virevoltant",className:"mx-auto mb-8 block h-auto w-full max-w-100 filter-[drop-shadow(0_10px_20px_rgba(46,159,118,0.3))]"}),e.jsx("h1",{className:"mb-2 text-4xl font-bold text-gray-800",children:"Oups, ce portefeuille est vide."}),e.jsx("p",{className:"mb-8 text-base text-gray-600",children:"La page que vous cherchez semble avoir disparu. Retournez en lieu sûr."}),e.jsx(v,{to:m.PUBLIC.HOME.PATH,className:"inline-block rounded-full bg-[#2E9F76] px-6 py-3 font-bold text-white shadow-lg transition-all duration-300 hover:-translate-y-0.5 hover:bg-[#248c66]",children:"Retour à l'accueil"})]})}we.__docgenInfo={description:"",methods:[],displayName:"NotFoundPage"};const Ee=""+new URL("under-construct-CT8WYQ-o.png",import.meta.url).href,Pe=()=>e.jsxs("div",{className:"flex min-h-screen flex-col items-center justify-center overflow-hidden bg-[radial-gradient(circle_at_center,#ffffff,#e6e9ef)] px-8 text-center",children:[e.jsx("img",{src:Ee,alt:"Illustration d'un portefeuille vide avec un virevoltant",className:"animate-float mx-auto mb-10 w-full max-w-87.5 drop-shadow-[0_15px_25px_rgba(16,185,129,0.3)]"}),e.jsx("h1",{className:"text-accent mb-4 text-4xl font-bold md:text-5xl",children:"Travaux en cours"}),e.jsxs("p",{className:"font-mulish text-neutral mb-10 text-lg leading-relaxed",children:["Nous construisons quelque chose de grand pour vous aider à gérer votre budget sereinement."," ",e.jsx("br",{className:"hidden md:inline"}),"Cette page sera bientôt disponible."]}),e.jsx(v,{to:m.PUBLIC.HOME.PATH,className:"inline-block rounded-full bg-[#2E9F76] px-6 py-3 font-bold text-white shadow-lg transition-all duration-300 hover:-translate-y-0.5 hover:bg-[#248c66]",children:"Retour à l'accueil"})]});Pe.__docgenInfo={description:"",methods:[],displayName:"UnderConstructionPage"};const je=()=>{const t=O(),{forgotPassword:r,loading:a,confirmationError:l,confirmationStatus:n,resetConfirmationState:o}=j(),[i,u]=s.useState(""),[f,x]=s.useState({});return s.useEffect(()=>{n===F.Success&&(H.success("Email envoyé avec succès ! Vérifiez votre boîte mail."),t(m.PUBLIC.LOGIN.PATH))},[n,t]),s.useEffect(()=>()=>{o()},[o]),{email:i,errors:f,confirmationError:l,loading:a,handleChange:p=>{u(p),f.email&&x(h=>({...h,email:void 0}))},onSubmit:async p=>{p.preventDefault();const h=K.safeParse({email:i});if(!h.success){x(M(h.error));return}await r(i)}}},J=()=>{const{email:t,errors:r,confirmationError:a,loading:l,handleChange:n,onSubmit:o}=je();return e.jsx("div",{className:"flex min-h-screen flex-col",children:e.jsx("main",{className:"flex flex-1 items-center justify-center p-4 pt-20",children:e.jsxs("div",{className:"w-full max-w-md",children:[e.jsx("div",{className:"mb-10 text-center",children:e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Mot de passe oublié"})}),e.jsxs("form",{onSubmit:o,className:"flex flex-col gap-6",children:[a&&e.jsx("div",{className:"flex justify-center",children:e.jsx(L,{status:"error",layout:"box",children:a})}),e.jsx("div",{className:"form-control w-full [&_input]:w-full",children:e.jsx(w,{id:"email",label:"Email",name:"email",type:"email",value:t,onChange:n,placeholder:"Entrez votre adresse email...",style:r.email?"error":"neutral",helperText:r.email,required:!0})}),e.jsxs("div",{className:"mt-4 flex w-full flex-col gap-3",children:[e.jsx(E,{type:"submit",style:"primary",disabled:l,children:l?"Envoi...":"Confirmer"}),e.jsx(v,{to:m.PUBLIC.LOGIN.PATH,className:"flex flex-col",children:e.jsx(E,{type:"button",style:"secondary",children:"Annuler"})})]})]})]})})})};J.__docgenInfo={description:"",methods:[],displayName:"ForgotPasswordPage"};const ye=()=>{const t=O(),{login:r,loading:a,confirmationError:l,confirmationStatus:n,isAuthenticated:o,fetchMe:i}=j(),[u,f]=s.useState({email:"",password:""}),[x,d]=s.useState({}),[g,p]=s.useState(!1);return s.useEffect(()=>{(async()=>{if(!sessionStorage.getItem("access_token"))return;(await i())?.me&&t(m.PRIVATE.TRANSACTIONS.PATH,{replace:!0})})()},[i,t]),s.useEffect(()=>{o&&t(m.PRIVATE.TRANSACTIONS.PATH,{replace:!0})},[o,t]),{formData:u,errors:x,confirmationError:l,confirmationStatus:n,loading:a,showPassword:g,handleChange:(P,y)=>{f(N=>({...N,[P]:y})),x[P]&&d(N=>({...N,[P]:void 0}))},togglePasswordVisibility:()=>p(!g),onSubmit:async P=>{P.preventDefault();const y=pe.safeParse(u);if(!y.success){d(M(y.error));return}const N=await r(u);N?.tempToken&&(sessionStorage.setItem("tmp_token",N.tempToken),t(m.PUBLIC.TWO_FA.PATH))}}},be=()=>{const{formData:t,errors:r,confirmationError:a,loading:l,showPassword:n,handleChange:o,togglePasswordVisibility:i,onSubmit:u}=ye();return e.jsx("div",{className:"flex min-h-screen flex-col",children:e.jsx("main",{className:"flex flex-1 items-center justify-center p-4 pt-20",children:e.jsxs("div",{className:"w-full max-w-md",children:[e.jsx("div",{className:"mb-10 text-center",children:e.jsx("h1",{className:"text-4xl font-bold text-gray-900",children:"Connexion"})}),e.jsxs("form",{onSubmit:u,className:"flex flex-col gap-6",children:[a&&e.jsx("div",{className:"flex justify-center",children:e.jsx(L,{status:"error",layout:"box",children:a})}),e.jsx("div",{className:"form-control w-full [&_input]:w-full",children:e.jsx(w,{label:"Email",id:"email",name:"email",type:"email",value:t.email,onChange:f=>o("email",f),placeholder:"Entrez votre adresse email...",style:r.email?"error":"neutral",helperText:r.email,required:!0})}),e.jsx("div",{className:"form-control relative w-full [&_input]:w-full",children:e.jsxs("div",{className:"relative w-full",children:[e.jsx(w,{label:"Password",id:"password",name:"password",type:n?"text":"password",value:t.password,onChange:f=>o("password",f),placeholder:"Entrez votre mot de passe...",style:r.password?"error":"neutral",helperText:r.password,required:!0}),e.jsx(k,{isVisible:n,onToggle:i})]})}),e.jsx("div",{className:"-mt-2 text-center",children:e.jsx(v,{to:m.PUBLIC.FORGOT_PASSWORD.PATH,className:"text-sm font-medium text-gray-600 hover:text-gray-900",children:"Mot de passe oublié ?"})}),e.jsx("div",{className:"w-full [&_button]:flex! [&_button]:h-12! [&_button]:w-full [&_button]:items-center! [&_button]:justify-center!",children:e.jsx(E,{type:"submit",style:"primary",disabled:l,children:l?"Connexion...":"Connexion"})}),e.jsxs("div",{className:"mt-2 text-center text-sm text-gray-600",children:["Vous n'avez pas encore de compte ?"," ",e.jsx(v,{to:m.PUBLIC.REGISTER.PATH,className:"text-error font-medium hover:underline",children:"Inscrivez-vous ici."})]})]})]})})})};be.__docgenInfo={description:"",methods:[],displayName:"LoginPage"};var Ce=s.createContext({color:"currentColor",size:"1em",weight:"regular",mirrored:!1}),Ae=function(r,a,l){var n=l.get(r);return n?n(a):(console.error('Unsupported icon weight. Choose from "thin", "light", "regular", "bold", "fill", or "duotone".'),null)};function D(t,r){if(t==null)return{};var a={},l=Object.keys(t),n,o;for(o=0;o<l.length;o++)n=l[o],!(r.indexOf(n)>=0)&&(a[n]=t[n]);return a}var Q=s.forwardRef(function(t,r){var a=t.alt,l=t.color,n=t.size,o=t.weight,i=t.mirrored,u=t.children,f=t.renderPath,x=D(t,["alt","color","size","weight","mirrored","children","renderPath"]),d=s.useContext(Ce),g=d.color,p=g===void 0?"currentColor":g,h=d.size,C=d.weight,S=C===void 0?"regular":C,P=d.mirrored,y=P===void 0?!1:P,N=D(d,["color","size","weight","mirrored"]);return c.createElement("svg",Object.assign({ref:r,xmlns:"http://www.w3.org/2000/svg",width:n??h,height:n??h,fill:l??p,viewBox:"0 0 256 256",transform:i||y?"scale(-1, 1)":void 0},N,x),!!a&&c.createElement("title",null,a),u,c.createElement("rect",{width:"256",height:"256",fill:"none"}),f(o??S,l??p))});Q.displayName="IconBase";var I=new Map;I.set("bold",function(t){return c.createElement(c.Fragment,null,c.createElement("polyline",{points:"174 86 216 128 174 170",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),c.createElement("line",{x1:"104",y1:"128",x2:"216",y2:"128",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),c.createElement("path",{d:"M104,216H48a8,8,0,0,1-8-8V48a8,8,0,0,1,8-8h56",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}))});I.set("duotone",function(t){return c.createElement(c.Fragment,null,c.createElement("polyline",{points:"174 86 216 128 174 170",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),c.createElement("line",{x1:"104",y1:"128",x2:"216",y2:"128",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),c.createElement("path",{d:"M104,216H48a8,8,0,0,1-8-8V48a8,8,0,0,1,8-8h56",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))});I.set("fill",function(){return c.createElement(c.Fragment,null,c.createElement("path",{d:"M221.7,133.7l-42,42A8.3,8.3,0,0,1,174,178a7.7,7.7,0,0,1-3-.6,8,8,0,0,1-5-7.4V136H104a8,8,0,0,1,0-16h62V86a8,8,0,0,1,5-7.4,8.2,8.2,0,0,1,8.7,1.7l42,42A8.1,8.1,0,0,1,221.7,133.7ZM104,208H48V48h56a8,8,0,0,0,0-16H48A16,16,0,0,0,32,48V208a16,16,0,0,0,16,16h56a8,8,0,0,0,0-16Z"}))});I.set("light",function(t){return c.createElement(c.Fragment,null,c.createElement("polyline",{points:"174 86 216 128 174 170",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),c.createElement("line",{x1:"104",y1:"128",x2:"216",y2:"128",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),c.createElement("path",{d:"M104,216H48a8,8,0,0,1-8-8V48a8,8,0,0,1,8-8h56",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}))});I.set("thin",function(t){return c.createElement(c.Fragment,null,c.createElement("polyline",{points:"174 86 216 128 174 170",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),c.createElement("line",{x1:"104",y1:"128",x2:"216",y2:"128",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),c.createElement("path",{d:"M104,216H48a8,8,0,0,1-8-8V48a8,8,0,0,1,8-8h56",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}))});I.set("regular",function(t){return c.createElement(c.Fragment,null,c.createElement("polyline",{points:"174 86 216 128 174 170",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),c.createElement("line",{x1:"104",y1:"128",x2:"216",y2:"128",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),c.createElement("path",{d:"M104,216H48a8,8,0,0,1-8-8V48a8,8,0,0,1,8-8h56",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))});var Le=function(r,a){return Ae(r,a,I)},X=s.forwardRef(function(t,r){return c.createElement(Q,Object.assign({ref:r},t,{renderPath:Le}))});X.displayName="SignOut";const Ie=()=>{const{user:t}=j(),r=t?`${t.firstName?.charAt(0)||""}${t.lastName?.charAt(0)||""}`.toUpperCase():"--",a=t?`${t.firstName} ${t.lastName}`:"";return{displayData:{firstName:t?.firstName||"",lastName:t?.lastName||"",email:t?.email||""},userInitials:r,fullName:a}},ee=()=>{const{displayData:t,userInitials:r,fullName:a}=Ie(),{fetchMe:l,logout:n}=j();return s.useEffect(()=>{l()},[l]),e.jsx("div",{className:"flex h-screen overflow-auto",children:e.jsxs("div",{className:"mx-auto w-full max-w-4xl flex-1 p-8 pt-20",children:[e.jsxs("div",{className:"mb-12 flex items-center gap-6",children:[e.jsx("div",{className:"initials placeholder",children:e.jsx("div",{className:"bg-neutral text-neutral-content flex h-24 w-24 items-center justify-center rounded-full",children:e.jsx("span",{className:"text-2xl font-bold",children:r})})}),e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:a})]}),e.jsxs("form",{className:"space-y-8",children:[e.jsx("div",{className:"w-full",children:e.jsx(w,{label:"Email",id:"email",name:"email",value:t.email,disabled:!0,placeholder:"Entrez votre adresse email..."})}),e.jsxs("div",{className:"grid grid-cols-1 gap-8 md:grid-cols-2",children:[e.jsx("div",{className:"w-full",children:e.jsx(w,{label:"Nom",id:"lastName",name:"lastName",value:t.lastName,disabled:!0,placeholder:"Entrez votre nom..."})}),e.jsx("div",{className:"w-full",children:e.jsx(w,{label:"Prénom",id:"firstName",name:"firstName",value:t.firstName,disabled:!0,placeholder:"Entrez votre prénom..."})})]})]}),e.jsxs("div",{className:"mt-10 w-full md:hidden",children:[e.jsx("hr",{className:"border-base-200 mb-6"}),e.jsx(E,{onClick:n,style:"danger",size:"md",icon:X,children:"Se déconnecter"})]})]})})};ee.__docgenInfo={description:"",methods:[],displayName:"ProfilePage"};const Te=()=>{const t=O(),{register:r,loading:a,confirmationError:l,confirmationStatus:n,resetConfirmationState:o}=j(),[i,u]=s.useState({email:"",firstName:"",lastName:"",password:"",confirmedPassword:""}),[f,x]=s.useState({}),[d,g]=s.useState(!1),[p,h]=s.useState(!1);return s.useEffect(()=>{n===F.Success&&(H.success("Compte créé avec succès ! Vous pouvez maintenant vous connecter."),t(m.PUBLIC.LOGIN.PATH))},[n,t]),s.useEffect(()=>()=>{o()},[o]),{formData:i,errors:f,confirmationError:l,loading:a,showPassword:d,showConfirmPassword:p,handleChange:(N,_)=>{u(b=>({...b,[N]:_})),f[N]&&x(b=>({...b,[N]:void 0}))},togglePasswordVisibility:()=>g(!d),toggleConfirmPasswordVisibility:()=>h(!p),onSubmit:async N=>{N.preventDefault();const _=ge.safeParse(i);if(!_.success){x(M(_.error));return}await r(i)}}},te=()=>{const{formData:t,errors:r,confirmationError:a,loading:l,showPassword:n,showConfirmPassword:o,handleChange:i,togglePasswordVisibility:u,toggleConfirmPasswordVisibility:f,onSubmit:x}=Te();return e.jsx("div",{className:"flex min-h-screen flex-col",children:e.jsx("main",{className:"flex flex-1 items-center justify-center p-4 pt-20",children:e.jsxs("div",{className:"w-full max-w-md",children:[e.jsx("div",{className:"mb-10 text-center",children:e.jsx("h1",{className:"text-4xl font-bold text-gray-900",children:"Inscription"})}),e.jsxs("form",{onSubmit:x,className:"flex flex-col gap-6",children:[a&&e.jsx("div",{className:"flex justify-center",children:e.jsx(L,{status:"error",layout:"box",children:a})}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsx("div",{className:"w-full",children:e.jsx(w,{label:"First Name",id:"firstName",name:"firstName",value:t.firstName,onChange:d=>i("firstName",d),placeholder:"Entrez votre prénom...",style:r.firstName?"error":"neutral",helperText:r.firstName,required:!0})}),e.jsx("div",{className:"w-full",children:e.jsx(w,{label:"Last Name",id:"lastName",name:"lastName",value:t.lastName,onChange:d=>i("lastName",d),placeholder:"Entrez votre nom...",style:r.lastName?"error":"neutral",helperText:r.lastName,required:!0})})]}),e.jsx("div",{className:"form-control w-full [&_input]:w-full",children:e.jsx(w,{label:"Email",id:"email",name:"email",type:"email",value:t.email,onChange:d=>i("email",d),placeholder:"Entrez votre adresse email...",style:r.email?"error":"neutral",helperText:r.email,required:!0})}),e.jsx("div",{className:"form-control relative w-full [&_input]:w-full",children:e.jsxs("div",{className:"relative w-full",children:[e.jsx(w,{label:"Password",id:"password",name:"password",type:n?"text":"password",value:t.password,onChange:d=>i("password",d),placeholder:"Entrez votre mot de passe...",style:r.password?"error":"neutral",helperText:r.password,required:!0}),e.jsx(k,{isVisible:n,onToggle:u})]})}),e.jsx("div",{className:"form-control relative w-full [&_input]:w-full",children:e.jsxs("div",{className:"relative w-full",children:[e.jsx(w,{label:"Confirm Password",id:"confirmPassword",name:"confirmPassword",type:o?"text":"password",value:t.confirmedPassword,onChange:d=>i("confirmedPassword",d),placeholder:"Confirmez votre mot de passe...",style:r.confirmedPassword?"error":"neutral",helperText:r.confirmedPassword,required:!0}),e.jsx(k,{isVisible:o,onToggle:f})]})}),e.jsx("div",{className:"mt-6 w-full [&_button]:flex! [&_button]:h-12! [&_button]:w-full [&_button]:items-center! [&_button]:justify-center!",children:e.jsx(E,{type:"submit",style:"primary",disabled:l,children:l?"Inscription...":"Inscription"})}),e.jsxs("div",{className:"mt-2 text-center text-sm text-gray-600",children:["Vous avez déjà un compte ?"," ",e.jsx(v,{to:m.PUBLIC.LOGIN.PATH,className:"text-error font-medium hover:underline",children:"Connectez-vous ici."})]})]})]})})})};te.__docgenInfo={description:"",methods:[],displayName:"RegisterPage"};const Se=""+new URL("logo_ozeille-BEg2K7jS.jpg",import.meta.url).href,se=()=>{const t=ie(),{isAuthenticated:r,logout:a}=j(),l=t.pathname===m.PUBLIC.HOME.PATH,n=o=>i=>{i.preventDefault();const u=document.getElementById(o);u&&u.scrollIntoView({behavior:"smooth"})};return e.jsx("nav",{className:"fixed top-0 left-0 z-50 w-full border-b border-gray-200 bg-white/80 backdrop-blur-md",children:e.jsxs("div",{className:"flex h-16 items-center justify-between px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"relative h-8 w-8",children:e.jsx("img",{src:Se,alt:"O'Zeille Logo",className:"h-full w-full rounded-full"})}),e.jsx(v,{to:m.PUBLIC.HOME.PATH,className:"text-xl font-semibold tracking-tight",children:m.PUBLIC.HOME.LABEL})]}),l&&e.jsx("div",{className:"hidden items-center gap-8 md:flex",children:Object.values(m.HOME).map(o=>e.jsx(v,{to:{pathname:m.PUBLIC.HOME.PATH,hash:`#${o.PATH}`},onClick:n(o.PATH),className:"text-sm font-normal text-gray-600 transition-colors hover:text-gray-900",children:o.LABEL},o.PATH))}),e.jsx("div",{className:"flex items-center gap-3",children:r?e.jsxs(e.Fragment,{children:[e.jsx(v,{to:m.PRIVATE.TRANSACTIONS.PATH,className:"rounded-lg bg-gray-900 px-4 py-2 text-sm font-normal text-white transition-colors hover:bg-gray-800",children:"Mon Espace"}),e.jsx(E,{onClick:a,style:"plainDanger",size:"md",children:"Déconnexion"})]}):e.jsxs(e.Fragment,{children:[e.jsx(v,{to:m.PUBLIC.LOGIN.PATH,className:"text-sm font-normal text-gray-600 transition-colors hover:text-gray-900",children:m.PUBLIC.LOGIN.LABEL}),e.jsx(v,{to:m.PUBLIC.REGISTER.PATH,className:"rounded-lg bg-gray-900 px-4 py-2 text-sm font-normal text-white transition-colors hover:bg-gray-800",children:m.PUBLIC.REGISTER.LABEL})]})})]})})};se.__docgenInfo={description:"",methods:[],displayName:"Navigation"};const _e=()=>{const t=O(),[r]=Z(),a=r.get("token"),{resetPassword:l,loading:n,confirmationError:o,confirmationStatus:i,resetConfirmationState:u}=j(),[f,x]=s.useState({password:"",confirmedPassword:""}),[d,g]=s.useState({}),[p,h]=s.useState(!1),[C,S]=s.useState(!1);return s.useEffect(()=>{i===F.Success&&(H.success("Votre mot de passe a été réinitialisé avec succès !"),t(m.PUBLIC.LOGIN.PATH))},[i,t]),s.useEffect(()=>()=>{u()},[u]),{formData:f,errors:d,confirmationError:o,loading:n,showPassword:p,showConfirmPassword:C,handleChange:(b,V)=>{x(B=>({...B,[b]:V})),d[b]&&g(B=>({...B,[b]:void 0}))},togglePasswordVisibility:()=>h(!p),toggleConfirmPasswordVisibility:()=>S(!C),onSubmit:async b=>{if(b.preventDefault(),!a){H.error("Jeton de réinitialisation manquant ou invalide.");return}const V=xe.safeParse(f);if(!V.success){g(M(V.error));return}await l(a,f)}}},re=()=>{const{formData:t,errors:r,confirmationError:a,loading:l,showPassword:n,showConfirmPassword:o,handleChange:i,togglePasswordVisibility:u,toggleConfirmPasswordVisibility:f,onSubmit:x}=_e();return e.jsxs("div",{className:"flex min-h-screen flex-col",children:[e.jsx(se,{}),e.jsx("main",{className:"flex flex-1 items-center justify-center p-4 pt-20",children:e.jsxs("div",{className:"w-full max-w-md",children:[e.jsxs("div",{className:"mb-10 text-center",children:[e.jsx("h1",{className:"text-4xl font-bold text-gray-900",children:"Réinitialisation"}),e.jsx("p",{className:"mt-2 text-gray-600",children:"Entrez votre nouveau mot de passe"})]}),e.jsxs("form",{onSubmit:x,className:"flex flex-col gap-6",children:[a&&e.jsx("div",{className:"flex justify-center",children:e.jsx(L,{status:"error",layout:"box",children:a})}),e.jsx("div",{className:"form-control relative w-full [&_input]:w-full",children:e.jsxs("div",{className:"relative w-full",children:[e.jsx(w,{label:"Nouveau mot de passe",id:"password",name:"password",type:n?"text":"password",value:t.password,onChange:d=>i("password",d),placeholder:"Entrez votre nouveau mot de passe...",style:r.password?"error":"neutral",helperText:r.password,required:!0}),e.jsx(k,{isVisible:n,onToggle:u})]})}),e.jsx("div",{className:"form-control relative w-full [&_input]:w-full",children:e.jsxs("div",{className:"relative w-full",children:[e.jsx(w,{label:"Confirmer le mot de passe",id:"confirmedPassword",name:"confirmedPassword",type:o?"text":"password",value:t.confirmedPassword,onChange:d=>i("confirmedPassword",d),placeholder:"Confirmez votre mot de passe...",style:r.confirmedPassword?"error":"neutral",helperText:r.confirmedPassword,required:!0}),e.jsx(k,{isVisible:o,onToggle:f})]})}),e.jsx(E,{type:"submit",style:"primary",disabled:l,children:l?"Réinitialisation...":"Réinitialiser le mot de passe"}),e.jsxs("div",{className:"mt-2 text-center text-sm text-gray-600",children:["Vous souvenez-vous de votre mot de passe ?"," ",e.jsx(v,{to:m.PUBLIC.LOGIN.PATH,className:"text-error font-medium hover:underline",children:"Connectez-vous ici."})]})]})]})})]})};re.__docgenInfo={description:"",methods:[],displayName:"ResetPasswordPage"};const m={PUBLIC:{HOME:{PATH:"/",LABEL:"O'Zeille"},LOGIN:{PATH:"/login",LABEL:"Se connecter"},REGISTER:{PATH:"/register",COMPONENT:T(te),LABEL:"S'inscrire"},FORGOT_PASSWORD:{PATH:"/forgot-password",COMPONENT:T(J)},CONFIRM_EMAIL:{COMPONENT:T($)},SEND_CONFIRM_EMAIL:{PATH:"/send-confirm-email",COMPONENT:T(Y),LABEL:"Renvoyer le mail de confirmation"},TWO_FA:{PATH:"/2fa",COMPONENT:T(q)},RESET_PASSWORD:{COMPONENT:T(re)}},PRIVATE:{DASHBOARD:{PATH:"/dashboard",COMPONENT:()=>s.createElement("h1",null,"Tableau de bord"),ICON:W,HIDE_IN_MENU:!0,LABEL:"Tableau de bord"},BUDGETS:{PATH:"/budgets",COMPONENT:ce,ICON:ae,HIDE_IN_MENU:!1,LABEL:"Budgets"},CATEGORIES:{PATH:"/categories",COMPONENT:de,ICON:ne,HIDE_IN_MENU:!1,LABEL:"Categories"},TRANSACTIONS:{PATH:"/transactions",COMPONENT:me,ICON:oe,HIDE_IN_MENU:!1,LABEL:"Transactions"},PROFILE:{PATH:"/profile",COMPONENT:ee,ICON:G,HIDE_IN_MENU:!0,LABEL:"Profil"}},HOME:{FEATURES:{PATH:"features",COMPONENT:void 0,ICON:void 0,HIDE_IN_MENU:!1,LABEL:"Fonctionnalités"},SECURITY:{PATH:"security",COMPONENT:void 0,ICON:void 0,HIDE_IN_MENU:!1,LABEL:"Sécurité"},PRICING:{PATH:"pricing",COMPONENT:void 0,ICON:void 0,HIDE_IN_MENU:!1,LABEL:"Tarifs"}}};export{$ as C,J as F,be as L,se as N,m as P,te as R,q as T,Pe as U,Y as a,we as b,ee as c,re as d};
