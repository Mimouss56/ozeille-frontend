import{a as s,c as i,e as o}from"./axiosClient-BFG-t0KE.js";const l=async(a={limit:10,page:1})=>{const{data:n}=await s.get("/transactions",{params:a});return n},u=async a=>{const{data:n}=await s.get(`/transactions/${a}`);return n},d=async a=>{const{data:n}=await s.post("/transactions",a);return n},g=async(a,n)=>{const{data:r}=await s.put(`/transactions/${a}`,n);return r},y=async a=>{await s.delete(`/transactions/${a}`)},f=i(a=>({transactions:[],meta:{},currentTransaction:null,loading:!1,error:null,fetchTransactions:async(n={limit:10,page:1})=>{a({loading:!0,error:null});try{const r=await l({...n,page:n.page??1});a({transactions:r.data,meta:r.meta,loading:!1})}catch(r){const t=o(r);a({error:t,loading:!1})}},fetchTransactionById:async n=>{a({loading:!0,error:null});try{const r=await u(n);a({currentTransaction:r,loading:!1})}catch(r){const t=o(r);a({error:t,loading:!1})}},createNewTransaction:async n=>{a({loading:!0,error:null});try{const r=await d(n);return a(t=>({transactions:[...t.transactions,r],loading:!1})),r}catch(r){const t=o(r);return a({error:t,loading:!1}),null}},updateCurrentTransaction:async(n,r)=>{a({loading:!0,error:null});try{const t=await g(n,r);return a(c=>({transactions:c.transactions.map(e=>e.id===n?t:e),currentTransaction:t,loading:!1})),t}catch(t){const c=o(t);return a({error:c,loading:!1}),null}},deleteTransactionById:async n=>{a({loading:!0,error:null});try{await y(n),a(r=>({transactions:r.transactions.filter(t=>t.id!==n),loading:!1}))}catch(r){const t=o(r);a({error:t,loading:!1})}},clearError:()=>a({error:null})}));export{f as u};
