import{r as a,j as t}from"./iframe-DpTib-Zx.js";import{a as u}from"./Tag.es-C_tPSl6l.js";import{C as c}from"./CategoryModal-CyoUYlA5.js";import{E as d}from"./EmptyCard-DsktDD9p.js";import{D as p}from"./DataTable-CZP1dsQ6.js";import{r as f}from"./Trash.es-CBo7FWEE.js";import{A as x}from"./ActionMenu-B-EHJUVm.js";import{D as y}from"./Dot-C91kFYVj.js";import{u as h}from"./schemas-BGkEtAWS.js";function C(){const{deleteCategoryById:s,fetchCategories:o,meta:i,categories:n}=h(),r=10,[l,g]=a.useState({pageIndex:0,pageSize:r});return a.useEffect(()=>{o({limit:r,page:l.pageIndex+1})},[o,l.pageIndex]),{columns:a.useMemo(()=>[{accessorKey:"label",header:"Nom",cell:({row:e})=>e.original.label},{accessorKey:"color",header:"Couleur",cell:({row:e})=>a.createElement(y,{color:e.original.color||"#F0F0F0"})},{accessorKey:"budgetId",header:"Budget",cell:({row:e})=>e.original.budgetId?e.original.budget?.label:"Coucou mouss"},{accessorKey:"limitAmount",header:"Plafond",cell:({row:e})=>`${e.original.limitAmount} €`},{id:"actions",header:"Actions",cell:({row:e})=>{const m=[{style:"outline",render:a.createElement(c,{category:e.original}),label:""},{label:"Supprimer",icon:f,style:"dangerOutline",onClick:()=>s(e.original.id)}];return a.createElement(x,{actions:m})}}],[s]),categories:n,limit:r,page:l,setPage:g,meta:i}}const b=()=>{const{columns:s,categories:o,limit:i,page:n,setPage:r,meta:l}=C();return t.jsxs("div",{className:"flex h-full flex-col gap-4",children:[t.jsx("h1",{className:"text-neutral text-2xl font-bold",children:"Gestion des catégories"}),t.jsx("div",{className:"flex justify-end gap-4",children:t.jsx(c,{})}),o.length===0&&t.jsx(d,{icon:u,label:"Aucune catégorie",subtitle:"Ajouter une nouvelle catégorie"}),t.jsx("div",{className:"overflow-x-auto md:overflow-visible",children:t.jsx(p,{columns:s,data:o,pageSize:i,currentPage:n,setCurrentPage:r,totalPage:l.totalPages,paginated:!0})})]})};b.__docgenInfo={description:"",methods:[],displayName:"CategoryPage"};export{b as C};
