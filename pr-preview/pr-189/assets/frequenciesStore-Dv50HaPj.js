import{a as o,c as u,e as n}from"./axiosClient--o0_gRyw.js";const s=async(e={limit:10,page:1})=>{const{data:r}=await o.get("/categories",{params:e});return r},g=async e=>{const{data:r}=await o.get(`/categories/${e}`);return r},i=async e=>{const{data:r}=await o.post("/categories",e);return r},d=async(e,r)=>{const{data:a}=await o.put(`/categories/${e}`,r);return a},y=async e=>{await o.delete(`/categories/${e}`)},$=u(e=>({categories:[],categoriesOptions:[],currentCategory:null,loading:!1,error:null,meta:{},fetchCategories:async(r={limit:10,page:1})=>{e({loading:!0,error:null});try{const a=await s({...r,page:r.page??1});e({categories:a.data,loading:!1,meta:a.meta})}catch(a){const t=n(a);e({error:t,loading:!1})}},fetchCategoriesOptions:async(r={limit:10,page:1})=>{e({loading:!0,error:null});try{const a=await s({...r,page:r.page??1});e({categoriesOptions:a.data.map(t=>({id:t.id,value:t.id,label:t.label})),loading:!1,meta:a.meta})}catch(a){const t=n(a);e({error:t,loading:!1})}},fetchCategoryById:async r=>{e({loading:!0,error:null});try{const a=await g(r);e({currentCategory:a,loading:!1})}catch(a){const t=n(a);e({error:t,loading:!1})}},createNewCategory:async r=>{e({loading:!0,error:null});try{const a=await i(r);return e(t=>({categories:[...t.categories,a],loading:!1})),a}catch(a){const t=n(a);return e({error:t,loading:!1}),null}},updateCurrentCategory:async(r,a)=>{e({loading:!0,error:null});try{const t=await d(r,a);return e(c=>({categories:c.categories.map(l=>l.id===r?t:l),currentCategory:t,loading:!1})),t}catch(t){const c=n(t);return e({error:c,loading:!1}),null}},deleteCategoryById:async r=>{e({loading:!0,error:null});try{await y(r),e(a=>({categories:a.categories.filter(t=>t.id!==r),loading:!1}))}catch(a){const t=n(a);e({error:t,loading:!1})}},setCurrentCategory:r=>e({currentCategory:r}),clearError:()=>e({error:null})})),f=async e=>{const{data:r}=await o.get("/budgets",{params:e});return r},p=async e=>{const{data:r}=await o.get(`/budgets/${e}`);return r},w=async e=>{const{data:r}=await o.post("/budgets",e);return r},m=async(e,r)=>{const{data:a}=await o.put(`/budgets/${e}`,r);return a},B=async e=>{await o.delete(`/budgets/${e}`)},E=u(e=>({budgets:[],currentBudget:null,loading:!1,error:null,editingBudgetId:null,fetchBudgets:async r=>{e({loading:!0,error:null});try{const a=await f(r);e({budgets:a,loading:!1})}catch(a){const t=n(a);e({error:t,loading:!1,budgets:[]})}},fetchBudgetById:async r=>{e({loading:!0,error:null});try{const a=await p(r);e({currentBudget:a,loading:!1})}catch(a){const t=n(a);e({error:t,loading:!1,budgets:[]})}},createNewBudget:async r=>{e({loading:!0,error:null});try{const a=await w(r);return e(t=>({budgets:[...t.budgets,a],loading:!1})),a}catch(a){const t=n(a);return e({error:t,loading:!1}),null}},updateCurrentBudget:async(r,a)=>{e({loading:!0,error:null});try{const t=await m(r,a);return e(c=>({budgets:c.budgets.map(l=>l.id===r?t:l),currentBudget:t,loading:!1})),t}catch(t){const c=n(t);return e({error:c,loading:!1}),null}},setCurrentBudget:r=>e({currentBudget:r}),deleteBudgetById:async r=>{e({loading:!0,error:null});try{await B(r),e(a=>({budgets:a.budgets.filter(t=>t.id!==r),loading:!1}))}catch(a){const t=n(a);e({error:t,loading:!1})}},openEditBudget:r=>e({editingBudgetId:r}),closeEditBudget:()=>e({editingBudgetId:null})})),q=async()=>{const{data:e}=await o.get("/frequencies");return e},C=async e=>{const{data:r}=await o.get(`/frequencies/${e}`);return r},h=async e=>{const{data:r}=await o.post("/frequencies",e);return r},b=async(e,r)=>{const{data:a}=await o.put(`/frequencies/${e}`,r);return a},F=async e=>{await o.delete(`/frequencies/${e}`)},O=u(e=>({frequencies:[],frequenciesOptions:[],currentFrequency:null,loading:!1,error:null,fetchFrequencies:async()=>{e({loading:!0,error:null});try{const r=await q();e({frequencies:r,frequenciesOptions:r.map(a=>({id:a.id,value:a.id,label:a.label})),loading:!1})}catch(r){const a=n(r);e({error:a,loading:!1})}},fetchFrequencyById:async r=>{e({loading:!0,error:null});try{const a=await C(r);e({currentFrequency:a,loading:!1})}catch(a){const t=n(a);e({error:t,loading:!1})}},createNewFrequency:async r=>{e({loading:!0,error:null});try{const a=await h(r);return e(t=>({frequencies:[...t.frequencies,a],loading:!1})),a}catch(a){const t=n(a);return e({error:t,loading:!1}),null}},updateCurrentFrequency:async(r,a)=>{e({loading:!0,error:null});try{const t=await b(r,a);return e(c=>({frequencies:c.frequencies.map(l=>l.id===r?t:l),currentFrequency:t,loading:!1})),t}catch(t){const c=n(t);return e({error:c,loading:!1}),null}},deleteFrequencyById:async r=>{e({loading:!0,error:null});try{await F(r),e(a=>({frequencies:a.frequencies.filter(t=>t.id!==r),loading:!1}))}catch(a){const t=n(a);e({error:t,loading:!1})}},clearError:()=>e({error:null})}));export{O as a,E as b,$ as u};
