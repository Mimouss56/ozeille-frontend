import{r as i,j as e}from"./iframe-BgQ_fZKJ.js";import{a as x}from"./PiggyBank.es-CulnVnPQ.js";import{o as f}from"./TrendUp.es-9MET3H27.js";import{c as p}from"./index-DutoEiXV.js";import{E as h}from"./EmptyCard-DFcK-82A.js";import{D as b}from"./Dot-C7I7tVCI.js";function g(a){const r=i.useMemo(()=>new Intl.NumberFormat("fr-FR",{style:"currency",currency:"EUR",maximumFractionDigits:0}),[]);return{data:i.useMemo(()=>{const t=a.filter(s=>s.type==="INCOME").map(s=>{const n=(s.transactions??[]).reduce((u,d)=>u+Number(d.amount),0);return{id:s.id,label:s.label,color:s.color,amount:n,formattedAmount:r.format(n)}}),m=t.reduce((s,n)=>s+n.amount,0);return{totalRaw:m,totalFormatted:r.format(m),items:t}},[a,r])}}const c={Neutral:"neutral",Success:"success"},j=p("card bg-base-100 border flex flex-col gap-4 rounded-2xl p-5 shadow-sm transition-all hover:shadow-md",{variants:{status:{[c.Neutral]:"border-base-200",[c.Success]:"border-success"}},defaultVariants:{status:c.Neutral}}),N=({categories:a,status:r})=>{const{data:o}=g(a);if(o.items.length===0)return e.jsx(h,{icon:x,label:"Aucun revenu",subtitle:"Ajoutez votre salaire ou vos primes."});const l=r||c.Neutral;return e.jsxs("div",{className:j({status:l}),children:[e.jsx("div",{className:"flex items-start justify-between",children:e.jsxs("div",{children:[e.jsxs("span",{className:"text-neutral/60 flex items-center gap-2 text-sm font-medium",children:[e.jsx("span",{className:"bg-success/10 text-success flex h-6 w-6 items-center justify-center rounded-full",children:e.jsx(f,{size:14,weight:"bold"})}),"Revenus du mois"]}),e.jsx("h2",{className:"text-neutral mt-1 text-3xl font-bold tracking-tight",children:o.totalFormatted})]})}),e.jsx("hr",{className:"border-base-200"}),e.jsx("div",{className:"flex flex-col gap-3",children:o.items.map(t=>e.jsxs("div",{className:"group flex cursor-default items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(b,{color:t.color||"var(--color-success)",className:"ring-base-100 h-2 w-2 rounded-full shadow-sm ring-2"}),e.jsx("span",{className:"text-neutral/70 group-hover:text-neutral text-sm font-medium transition-colors",children:t.label})]}),e.jsxs("span",{className:"bg-success/10 text-success rounded-md px-2 py-0.5 text-sm font-semibold",children:["+",t.formattedAmount]})]},t.id))})]})};N.__docgenInfo={description:"",methods:[],displayName:"IncomeCard",props:{categories:{required:!0,tsType:{name:"Array",elements:[{name:"Category"}],raw:"Category[]"},description:""}},composes:["IncomeCardVariants"]};export{N as I};
