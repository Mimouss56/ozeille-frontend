import{a as o,c as s,e as n}from"./axiosClient-B4v-P970.js";const u=async(r={limit:10,page:1})=>{const{data:a}=await o.get("/categories",{params:r});return a},g=async r=>{const{data:a}=await o.get(`/categories/${r}`);return a},i=async r=>{const{data:a}=await o.post("/categories",r);return a},d=async(r,a)=>{const{data:e}=await o.put(`/categories/${r}`,a);return e},y=async r=>{await o.delete(`/categories/${r}`)},$=s(r=>({categories:[],categoriesOptions:[],currentCategory:null,loading:!1,error:null,meta:{},fetchCategories:async a=>{r({loading:!0,error:null});try{const e=await u({limit:10,page:1,...a});r({categories:e.data,loading:!1,meta:e.meta})}catch(e){const t=n(e);r({error:t,loading:!1})}},fetchCategoriesOptions:async a=>{r({loading:!0,error:null});try{const e=await u({limit:10,page:1,...a});r({categoriesOptions:e.data.map(t=>({id:t.id,value:t.id,label:t.label})),loading:!1,meta:e.meta})}catch(e){const t=n(e);r({error:t,loading:!1})}},fetchCategoryById:async a=>{r({loading:!0,error:null});try{const e=await g(a);r({currentCategory:e,loading:!1})}catch(e){const t=n(e);r({error:t,loading:!1})}},createNewCategory:async a=>{r({loading:!0,error:null});try{const e=await i(a);return r(t=>({categories:[...t.categories,e],loading:!1})),e}catch(e){const t=n(e);return r({error:t,loading:!1}),null}},updateCurrentCategory:async(a,e)=>{r({loading:!0,error:null});try{const t=await d(a,e);return r(c=>({categories:c.categories.map(l=>l.id===a?t:l),currentCategory:t,loading:!1})),t}catch(t){const c=n(t);return r({error:c,loading:!1}),null}},deleteCategoryById:async a=>{r({loading:!0,error:null});try{await y(a),r(e=>({categories:e.categories.filter(t=>t.id!==a),loading:!1}))}catch(e){const t=n(e);r({error:t,loading:!1})}},setCurrentCategory:a=>r({currentCategory:a}),clearError:()=>r({error:null})})),f=async r=>{const{data:a}=await o.get("/budgets",{params:r});return a},m=async r=>{const{data:a}=await o.get(`/budgets/${r}`);return a},w=async r=>{const{data:a}=await o.post("/budgets",r);return a},p=async(r,a)=>{const{data:e}=await o.put(`/budgets/${r}`,a);return e},B=async r=>{await o.delete(`/budgets/${r}`)},h=async r=>{const{data:a}=await o.get("/budgets/summary",{params:r});return a},E=s(r=>({budgets:[],currentBudget:null,summary:null,loading:!1,error:null,editingBudgetId:null,montlySummaries:[],fetchBudgets:async a=>{r({loading:!0,error:null});try{const e=await f(a);r({budgets:e,loading:!1})}catch(e){const t=n(e);r({error:t,loading:!1,budgets:[]})}},fetchSummary:async a=>{r({loading:!0,error:null});try{const e=await h(a);r(t=>({summary:e,loading:!1,montlySummaries:[...t.montlySummaries,...e.monthlySummaries].sort((c,l)=>c.month.localeCompare(l.month))}))}catch(e){const t=n(e);r({error:t,loading:!1})}},fetchBudgetById:async a=>{r({loading:!0,error:null});try{const e=await m(a);r({currentBudget:e,loading:!1})}catch(e){const t=n(e);r({error:t,loading:!1,budgets:[]})}},createNewBudget:async a=>{r({loading:!0,error:null});try{const e=await w(a);return r(t=>({budgets:[...t.budgets,e],loading:!1})),e}catch(e){const t=n(e);return r({error:t,loading:!1}),null}},updateCurrentBudget:async(a,e)=>{r({loading:!0,error:null});try{const t=await p(a,e);return r(c=>({budgets:c.budgets.map(l=>l.id===a?t:l),currentBudget:t,loading:!1})),t}catch(t){const c=n(t);return r({error:c,loading:!1}),null}},setCurrentBudget:a=>r({currentBudget:a}),deleteBudgetById:async a=>{r({loading:!0,error:null});try{await B(a),r(e=>({budgets:e.budgets.filter(t=>t.id!==a),loading:!1}))}catch(e){const t=n(e);r({error:t,loading:!1})}},openEditBudget:a=>r({editingBudgetId:a}),closeEditBudget:()=>r({editingBudgetId:null})})),q=async()=>{const{data:r}=await o.get("/frequencies");return r},C=async r=>{const{data:a}=await o.get(`/frequencies/${r}`);return a},b=async r=>{const{data:a}=await o.post("/frequencies",r);return a},F=async(r,a)=>{const{data:e}=await o.put(`/frequencies/${r}`,a);return e},I=async r=>{await o.delete(`/frequencies/${r}`)},O=s(r=>({frequencies:[],frequenciesOptions:[],currentFrequency:null,loading:!1,error:null,fetchFrequencies:async()=>{r({loading:!0,error:null});try{const a=await q();r({frequencies:a,frequenciesOptions:a.map(e=>({id:e.id,value:e.id,label:e.label})),loading:!1})}catch(a){const e=n(a);r({error:e,loading:!1})}},fetchFrequencyById:async a=>{r({loading:!0,error:null});try{const e=await C(a);r({currentFrequency:e,loading:!1})}catch(e){const t=n(e);r({error:t,loading:!1})}},createNewFrequency:async a=>{r({loading:!0,error:null});try{const e=await b(a);return r(t=>({frequencies:[...t.frequencies,e],loading:!1})),e}catch(e){const t=n(e);return r({error:t,loading:!1}),null}},updateCurrentFrequency:async(a,e)=>{r({loading:!0,error:null});try{const t=await F(a,e);return r(c=>({frequencies:c.frequencies.map(l=>l.id===a?t:l),currentFrequency:t,loading:!1})),t}catch(t){const c=n(t);return r({error:c,loading:!1}),null}},deleteFrequencyById:async a=>{r({loading:!0,error:null});try{await I(a),r(e=>({frequencies:e.frequencies.filter(t=>t.id!==a),loading:!1}))}catch(e){const t=n(e);r({error:t,loading:!1})}},clearError:()=>r({error:null})}));export{E as a,O as b,$ as u};
