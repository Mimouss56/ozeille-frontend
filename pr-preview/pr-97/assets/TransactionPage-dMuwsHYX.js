import{r as t,j as n}from"./iframe-izvGSqYE.js";import{D as m}from"./DataTable-BCT-gq8s.js";import{T as d}from"./TransactionModal-CTL0aibB.js";import{u as g}from"./transactionsStore-BbjQx0xa.js";import{P as u,A as p}from"./ActionMenu-DaCRPBgW.js";import{T as f}from"./TransactionDeleteModal-cCrL-Ucl.js";import{T}from"./TransactionEditModal-dc6FsVLs.js";import{T as x}from"./Trash.esm-BE9p6qdk.js";function h(s={}){const e=t.useMemo(()=>[{label:"Ã‰diter transaction",icon:t.createElement(u,{size:16}),onClick:()=>T({transaction:s.transaction})},{label:"Supprimer",icon:t.createElement(x,{size:16}),variant:"danger",onClick:()=>f({transaction:s.transaction})}],[s]);return{columns:t.useMemo(()=>[{accessorKey:"dueAt",header:"Date",cell:({row:a})=>new Date(a.original.dueAt).toLocaleDateString()},{accessorKey:"category",header:"Category",cell:({row:a})=>a.original.category.label},{accessorKey:"amount",header:"Montant"},{accessorKey:"label",header:"Label"},{header:"Actions",size:10,cell:()=>p({actions:e})}],[e])}}const y=()=>{const{columns:s}=h(),[e,r]=t.useState(10),[a,c]=t.useState({pageIndex:0,pageSize:e}),{fetchTransactions:o,meta:i,transactions:l}=g();return t.useEffect(()=>{o({limit:e,page:a.pageIndex+1})},[o,e,a.pageIndex]),n.jsxs("div",{className:"flex h-full flex-col gap-4",children:[n.jsx("h1",{children:"Transactions"}),n.jsx("div",{className:"flex justify-end gap-4",children:n.jsx(d,{})}),n.jsx(m,{pageSize:e,data:l,columns:s,currentPage:a,setCurrentPage:c,totalPage:i.totalPages,paginated:!0})]})};y.__docgenInfo={description:"",methods:[],displayName:"TransactionPage"};export{y as T};
