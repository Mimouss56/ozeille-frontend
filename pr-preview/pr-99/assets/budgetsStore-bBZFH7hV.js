import{a as d,c as o,e as n}from"./axiosClient-CnoH2fP2.js";const s=async()=>{const{data:t}=await d.get("/budgets");return t},l=async t=>{const{data:e}=await d.get(`/budgets/${t}`);return e},c=async t=>{const{data:e}=await d.post("/budgets",t);return e},i=async(t,e)=>{const{data:r}=await d.put(`/budgets/${t}`,e);return r},B=async t=>{await d.delete(`/budgets/${t}`)},b=o(t=>({budgets:[],currentBudget:null,loading:!1,error:null,editingBudgetId:null,fetchBudgets:async()=>{t({loading:!0,error:null});try{const e=await s();t({budgets:e,loading:!1})}catch(e){const r=n(e);t({error:r,loading:!1,budgets:[]})}},fetchBudgetById:async e=>{t({loading:!0,error:null});try{const r=await l(e);t({currentBudget:r,loading:!1})}catch(r){const a=n(r);t({error:a,loading:!1,budgets:[]})}},createNewBudget:async e=>{t({loading:!0,error:null});try{const r=await c(e);return t(a=>({budgets:[...a.budgets,r],loading:!1})),r}catch(r){const a=n(r);return t({error:a,loading:!1}),null}},updateCurrentBudget:async(e,r)=>{t({loading:!0,error:null});try{const a=await i(e,r);return t(u=>({budgets:u.budgets.map(g=>g.id===e?a:g),currentBudget:a,loading:!1})),a}catch(a){const u=n(a);return t({error:u,loading:!1}),null}},setCurrentBudget:e=>t({currentBudget:e}),deleteBudgetById:async e=>{t({loading:!0,error:null});try{await B(e),t(r=>({budgets:r.budgets.filter(a=>a.id!==e),loading:!1}))}catch(r){const a=n(r);t({error:a,loading:!1})}},openEditBudget:e=>t({editingBudgetId:e}),closeEditBudget:()=>t({editingBudgetId:null})}));export{b as u};
